/**
 * HDH: Cartoon Farm Theme - Main Stylesheet
 * Premium, interactive, cartoon-inspired farm theme for hayday.help
 */

/* ============================================
   CARTOON FARM COLOR SYSTEM
   ============================================ */
:root {
    /* Primary Farm Colors - Bright & Vivid */
    --farm-green: #74C365;
    --farm-green-dark: #5AA34A;
    --farm-green-light: #9DD88A;
    
    /* Hay Yellow */
    --hay-yellow: #FFDB6E;
    --hay-yellow-dark: #FFC947;
    --hay-yellow-light: #FFE99F;
    
    /* Warm Orange */
    --warm-orange: #E86F33;
    --warm-orange-dark: #D45A1F;
    --warm-orange-light: #F58A5A;
    
    /* Wood Brown */
    --wood-brown: #6C3F1F;
    --wood-brown-dark: #4A2A15;
    --wood-brown-light: #8B5A3C;
    
    /* Sky Blue */
    --sky-blue: #ADD8FF;
    --sky-blue-dark: #7BB5FF;
    --sky-blue-light: #D4E8FF;
    
    /* Neutrals */
    --clean-white: #FFFFFF;
    --soft-cream: #FFF9E6;
    --light-beige: #F5E6D3;
    
    /* YÄ±lbaÅŸÄ± Renkleri */
    --newyear-red: #DC143C;
    --newyear-red-dark: #B22222;
    --newyear-red-light: #FF6B6B;
    --newyear-green: #228B22;
    --newyear-green-dark: #006400;
    --newyear-green-light: #32CD32;
    --newyear-gold: #FFD700;
    --newyear-gold-dark: #FFA500;
    --newyear-gold-light: #FFE87C;
    --newyear-snow: #F8F8FF;
    --newyear-ice: #E0F6FF;
    
    /* Gradients */
    --gradient-sky: linear-gradient(180deg, #D4E8FF 0%, #ADD8FF 50%, #7BB5FF 100%);
    --gradient-grass: linear-gradient(180deg, #9DD88A 0%, #74C365 50%, #5AA34A 100%);
    --gradient-wood: linear-gradient(180deg, #8B5A3C 0%, #6C3F1F 50%, #4A2A15 100%);
    --gradient-sunset: linear-gradient(135deg, #FFDB6E 0%, #E86F33 100%);
    
    /* YÄ±lbaÅŸÄ± Gradients */
    --gradient-newyear-sky: linear-gradient(180deg, #E0F6FF 0%, #B8E6FF 30%, #87CEEB 60%, #F8F8FF 100%);
    --gradient-newyear-night: radial-gradient(circle at 50% 20%, #4A90E2 0%, #2E5C8A 40%, #1A1A2E 80%, #0F0F1E 100%);
    --gradient-newyear-celebration: linear-gradient(135deg, #FFD700 0%, #FF6B6B 50%, #228B22 100%);
    
    /* Shadows - Soft & Cartoon-like */
    --shadow-soft: 0 4px 12px rgba(108, 63, 31, 0.15);
    --shadow-medium: 0 6px 20px rgba(108, 63, 31, 0.2);
    --shadow-strong: 0 10px 30px rgba(108, 63, 31, 0.25);
    --shadow-inset: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    
    /* Border Radius - Rounded & Friendly */
    --radius-small: 12px;
    --radius-medium: 20px;
    --radius-large: 30px;
    --radius-round: 50px;
}

/* ============================================
   TYPOGRAPHY - Friendly & Rounded
   ============================================ */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Quicksand:wght@400;500;600;700&family=Baloo+2:wght@400;500;600;700;800&display=swap');

html {
    background: #FFF6D8;
    height: 100%;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
}

body {
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    color: var(--wood-brown);
    background: #FFF6D8;
    line-height: 1.7;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    position: relative;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100vw;
    box-sizing: border-box;
}

/* Global overflow protection */
* {
    box-sizing: border-box;
}

*:not(html):not(body) {
    max-width: 100%;
}

/* Text overflow protection */
p, span, div, h1, h2, h3, h4, h5, h6, a, label, button {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

/* Removed blue background pseudo-elements - using unified newspaper background */

@keyframes hdhSnowFall {
    0% {
        transform: translateY(-100vh) translateX(0);
    }
    100% {
        transform: translateY(100vh) translateX(50px);
    }
}

@keyframes hdhTwinkle {
    0%, 100% {
        opacity: 0.8;
    }
    50% {
        opacity: 1;
    }
}

h1, h2, h3, h4, h5, h6 {
    font-family: 'Baloo 2', 'Poppins', sans-serif;
    font-weight: 700;
    color: var(--wood-brown);
    line-height: 1.2;
    margin-bottom: 1rem;
}

h1 { font-size: 3rem; font-weight: 800; }
h2 { font-size: 2.5rem; font-weight: 700; }
h3 { font-size: 2rem; font-weight: 600; }
h4 { font-size: 1.5rem; }
h5 { font-size: 1.25rem; }
h6 { font-size: 1.1rem; }

/* ============================================
   ANIMATIONS - Keyframes
   ============================================ */
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

@keyframes floatSlow {
    0%, 100% { transform: translateY(0px) translateX(0px); }
    33% { transform: translateY(-8px) translateX(5px); }
    66% { transform: translateY(-5px) translateX(-5px); }
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

@keyframes pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

@keyframes sparkle {
    0%, 100% { opacity: 0.3; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* ============================================
   DECORATIVE ELEMENTS
   ============================================ */
.floating-cloud {
    display: none;
}

.floating-leaf {
    display: none;
}

.sparkle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: var(--hay-yellow);
    border-radius: 50%;
    animation: sparkle 2s ease-in-out infinite;
    pointer-events: none;
}

/* ============================================
   CONTAINER - Responsive Container
   ============================================ */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    width: 100%;
    box-sizing: border-box;
    background: transparent;
    overflow-x: hidden;
    position: relative;
}

/* ============================================
   CARTOON HEADER - Wooden Board Style
   ============================================ */
.cartoon-header {
    background: rgba(255, 255, 255, 0.98);
    border-bottom: 3px solid var(--newyear-red);
    padding: 0;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(220, 20, 60, 0.2);
    transition: all 0.3s ease;
}

.cartoon-header.scrolled {
    box-shadow: 0 6px 25px rgba(220, 20, 60, 0.3);
    padding: 0;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 248, 255, 0.95) 100%);
}

.header-wooden-board {
    background: rgba(255, 255, 255, 0.98);
    padding: 20px 0;
    position: relative;
    box-shadow: 0 2px 10px rgba(220, 20, 60, 0.15);
    border-bottom: 1px solid rgba(220, 20, 60, 0.2);
}

.cartoon-header {
    position: relative;
}

.header-wooden-board::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--wood-brown-dark);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    gap: 20px;
}

.site-logo {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    transition: transform 0.3s ease;
}

.site-logo:hover {
    transform: scale(1.05);
}

.site-logo-icon {
    width: 50px;
    height: 50px;
    background: var(--newyear-gold);
    border-radius: var(--radius-round);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
    animation: bounce 2s ease-in-out infinite;
}

.site-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 2rem;
    font-weight: 800;
    color: #2C2C2C;
    text-shadow: none;
    margin: 0;
}

/* ============================================
   CARTOON NAVIGATION
   ============================================ */
.cartoon-navigation {
    padding: 15px 0;
    border-top: 2px solid rgba(255, 255, 255, 0.2);
    display: block;
}

.cartoon-nav {
    display: flex;
    gap: 10px;
    list-style: none;
    margin: 0;
    padding: 0;
    flex-wrap: wrap;
    justify-content: center;
}

.cartoon-nav-item {
    margin: 0;
}

.cartoon-nav-link {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    background: rgba(255, 255, 255, 0.9);
    color: #2C2C2C;
    text-decoration: none;
    border-radius: var(--radius-medium);
    font-weight: 600;
    font-size: 15px;
    border: 2px solid rgba(220, 20, 60, 0.2);
    box-shadow: 0 2px 8px rgba(220, 20, 60, 0.1);
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
    overflow: hidden;
}

.cartoon-nav-link::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: var(--newyear-red);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.cartoon-nav-link:hover::before {
    width: 300px;
    height: 300px;
}

.cartoon-nav-link:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
    border-color: var(--newspaper-text);
    color: var(--newyear-snow);
    z-index: 1;
}

.cartoon-nav-link span {
    position: relative;
    z-index: 1;
}

.nav-icon {
    width: 20px;
    height: 20px;
    position: relative;
    z-index: 1;
}

/* ============================================
   MOBILE MENU TOGGLE (REMOVED - Replaced with Bottom Navigation)
   ============================================ */

/* ============================================
   HERO SECTION - Farm World Landing
   ============================================ */
.farm-hero-world {
    position: relative;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 80px 0;
    background: transparent;
}

.farm-hero-world::before {
    display: none;
}

.hero-content-wrapper {
    position: relative;
    z-index: 2;
    text-align: center;
    max-width: 900px;
    padding: 0 20px;
    animation: slideInUp 1s ease-out;
}

.hero-title-cartoon {
    font-family: 'Baloo 2', sans-serif;
    font-size: 4rem;
    font-weight: 800;
    color: var(--wood-brown);
    margin-bottom: 20px;
    text-shadow: 3px 3px 0 var(--clean-white), 6px 6px 0 rgba(108, 63, 31, 0.2);
    line-height: 1.1;
}

.hero-subtitle-cartoon {
    font-size: 1.5rem;
    color: var(--wood-brown);
    margin-bottom: 40px;
    font-weight: 500;
    line-height: 1.6;
}

/* ============================================
   WOODEN SIGN BUTTONS
   ============================================ */
.btn-wooden-sign {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 18px 35px;
    background: var(--gradient-wood);
    color: var(--clean-white);
    text-decoration: none;
    border-radius: var(--radius-medium);
    font-weight: 700;
    font-size: 18px;
    border: 4px solid var(--wood-brown-dark);
    box-shadow: var(--shadow-medium), var(--shadow-inset);
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position: relative;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.btn-wooden-sign::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: var(--hay-yellow);
    border-radius: var(--radius-medium);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s;
}

.btn-wooden-sign:hover::before {
    opacity: 1;
}

.btn-wooden-sign:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(220, 20, 60, 0.4), 0 2px 8px rgba(34, 139, 34, 0.2);
    animation: bounce 0.6s ease;
}

.btn-wooden-sign.btn-primary:hover {
    background: linear-gradient(135deg, var(--newyear-red-light) 0%, var(--newyear-green-light) 100%);
}

.btn-wooden-sign.btn-primary {
    background: var(--gradient-grass);
    border-color: var(--farm-green-dark);
}

.btn-wooden-sign.btn-secondary {
    background: var(--gradient-sunset);
    border-color: var(--warm-orange-dark);
}

/* ============================================
   FARM BOARD CARDS - New Year Theme
   ============================================ */
.farm-board-card {
    background: linear-gradient(135deg, var(--newyear-snow) 0%, rgba(255, 255, 255, 0.98) 50%, var(--newyear-ice) 100%);
    border: 3px solid var(--newyear-red);
    border-radius: var(--radius-large);
    padding: 30px;
    box-shadow: 
        0 6px 20px rgba(220, 20, 60, 0.2),
        0 2px 8px rgba(220, 20, 60, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    position: relative;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    overflow: hidden;
}

.farm-board-card::before {
    content: 'ðŸŽ„';
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 1.5rem;
    opacity: 0.15;
    z-index: 0;
    animation: float 3s ease-in-out infinite;
}

.farm-board-card:hover {
    transform: translateY(-8px);
    box-shadow: 
        0 10px 30px rgba(220, 20, 60, 0.3),
        0 4px 12px rgba(220, 20, 60, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.9);
    border-color: var(--newspaper-text);
    background: linear-gradient(135deg, var(--newyear-snow) 0%, rgba(255, 250, 250, 0.98) 50%, var(--newyear-ice) 100%);
}

.farm-board-card-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.8rem;
    color: var(--newspaper-text);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 12px;
    text-shadow: 1px 1px 2px rgba(220, 20, 60, 0.1);
    position: relative;
    z-index: 1;
}

.farm-board-card-icon {
    width: 40px;
    height: 40px;
    background: var(--farm-green);
    border-radius: var(--radius-round);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    box-shadow: var(--shadow-soft);
}

/* ============================================
   HAY BALE BADGES
   ============================================ */
.hay-bale-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--hay-yellow);
    color: var(--wood-brown);
    border-radius: var(--radius-round);
    font-weight: 700;
    font-size: 14px;
    border: 3px solid var(--hay-yellow-dark);
    box-shadow: var(--shadow-soft);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */
/* ============================================
   SINGLE POST - WOODEN BOARD DESIGN
   ============================================ */
.article-wooden-board {
    background: var(--soft-cream);
    border: 4px solid var(--wood-brown);
    border-radius: var(--radius-large);
    padding: 40px;
    box-shadow: var(--shadow-medium);
    margin-bottom: 30px;
    position: relative;
}

.article-wooden-board::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 8px;
    background: var(--gradient-wood);
    border-bottom: 2px solid var(--wood-brown-dark);
    border-radius: var(--radius-large) var(--radius-large) 0 0;
}

.wooden-header {
    border-bottom: 3px solid var(--wood-brown);
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.post-category-badges {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 15px;
}

.cartoon-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 2.8rem;
    color: var(--wood-brown);
    margin-bottom: 15px;
    line-height: 1.2;
}

.farm-journal .post-content {
    color: var(--wood-brown);
    font-size: 18px;
    line-height: 1.9;
    max-width: 100%;
}

.farm-journal .post-content p {
    margin-bottom: 25px;
}

.farm-journal .post-featured-image {
    border-radius: var(--radius-medium);
    overflow: hidden;
    margin: 30px 0;
    border: 4px solid var(--wood-brown);
    box-shadow: var(--shadow-medium);
}

.farm-journal .post-featured-image img {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.3s ease;
}

.farm-journal .post-featured-image:hover img {
    transform: scale(1.02);
}

/* ============================================
   FARM TOOLBOX PANEL
   ============================================ */
.farm-toolbox-panel {
    position: sticky;
    top: 100px;
    background: var(--soft-cream);
    border: 4px solid var(--wood-brown);
    border-radius: var(--radius-large);
    padding: 25px;
    box-shadow: var(--shadow-medium);
    max-width: 280px;
    margin-left: 30px;
}

.toolbox-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid var(--wood-brown);
}

.toolbox-icon {
    font-size: 32px;
    animation: bounce 2s ease-in-out infinite;
}

.toolbox-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    color: var(--wood-brown);
    margin: 0;
}

.toolbox-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.toolbox-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: var(--clean-white);
    border: 2px solid var(--wood-brown-light);
    border-radius: var(--radius-small);
    transition: all 0.3s ease;
}

.toolbox-item:hover {
    background: var(--farm-green-light);
    border-color: var(--farm-green);
    transform: translateX(5px);
}

.toolbox-item-icon {
    font-size: 24px;
}

.toolbox-link {
    color: var(--wood-brown);
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s ease;
}

.toolbox-item:hover .toolbox-link {
    color: var(--farm-green-dark);
}

/* ============================================
   FARM FEATURES GRID
   ============================================ */
.farm-features-section {
    padding: 80px 0;
    position: relative;
}

.section-title-cartoon {
    font-family: 'Baloo 2', sans-serif;
    font-size: 3rem;
    text-align: center;
    color: var(--newspaper-text);
    margin-bottom: 50px;
    text-shadow: 0 2px 4px rgba(220, 20, 60, 0.2);
}

.farm-features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
}

/* ============================================
   FARM ANNOUNCEMENT BANNER
   ============================================ */
.farm-announcement-banner {
    background: linear-gradient(135deg, var(--newyear-red) 0%, var(--newyear-green) 100%);
    padding: 12px 0;
    border-bottom: 2px solid var(--newyear-gold);
    text-align: center;
    box-shadow: 0 2px 10px rgba(220, 20, 60, 0.3);
    position: relative;
    z-index: 1001;
}

.farm-announcement-text {
    margin: 0;
    color: var(--newyear-snow);
    font-weight: 700;
    font-size: 15px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* ============================================
   FARM HERO BACKGROUND ELEMENTS
   ============================================ */
.farm-hero-background {
    display: none;
}

.farm-sun {
    display: none;
}

.farm-hills {
    display: none;
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */
@media (max-width: 768px) {
    .hero-title-cartoon {
        font-size: 2.5rem;
    }
    
    .hero-subtitle-cartoon {
        font-size: 1.2rem;
    }
    
    /* Hide desktop navigation on mobile - Bottom navigation is used instead */
    .cartoon-navigation {
        display: none !important;
    }
    
    /* Ensure header doesn't have mobile menu toggle */
    .mobile-menu-toggle {
        display: none !important;
    }
    
    .header-top {
        position: relative;
    }
    
    .header-wooden-board {
        position: relative;
    }
    
    .site-title {
        font-size: 1.5rem;
    }
    
    .farm-toolbox-panel {
        position: static;
        max-width: 100%;
        margin-left: 0;
        margin-top: 30px;
    }
    
    .farm-features-grid {
        grid-template-columns: 1fr;
    }
    
    .article-wooden-board {
        padding: 25px;
    }
    
    .cartoon-title {
        font-size: 2rem;
    }
}

/* ============================================
   TRADE OFFER CARDS
   ============================================ */
.trade-card {
    margin-bottom: 30px;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.trade-card:hover {
    transform: translateY(-5px);
}

/* Make entire trade card clickable */
.trade-card-clickable {
    cursor: pointer;
    position: relative;
}

.trade-card-clickable::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1;
}

.trade-card-clickable:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.trade-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid var(--newyear-red);
    background: linear-gradient(to right, transparent, rgba(220, 20, 60, 0.05), transparent);
    padding: 15px;
    margin: -30px -30px 20px -30px;
    border-radius: var(--radius-large) var(--radius-large) 0 0;
    position: relative;
    z-index: 1;
}

.trade-card-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    margin: 0;
    flex: 1;
    min-width: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
    color: var(--newspaper-text);
    transition: color 0.3s ease;
    text-shadow: none;
    font-weight: 700;
}

.trade-card-clickable:hover .trade-card-title {
    color: var(--newspaper-text);
    text-shadow: none;
}

.trade-status-badge {
    padding: 6px 14px;
    border-radius: var(--radius-round);
    font-weight: 700;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.trade-status-badge.status-open {
    background: linear-gradient(135deg, var(--newyear-green-light) 0%, var(--newyear-green) 100%);
    color: var(--newyear-snow);
    border: 2px solid var(--newyear-green-dark);
    box-shadow: 0 2px 8px rgba(34, 139, 34, 0.3);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.trade-status-badge.status-completed {
    background: linear-gradient(135deg, rgba(200, 200, 200, 0.4) 0%, rgba(150, 150, 150, 0.4) 100%);
    color: #555;
    border: 2px solid #999;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.trade-card-content {
    margin: 20px 0;
}

/* Trade Wanted Wrapper - Label outside */
.trade-wanted-wrapper {
    margin-bottom: 25px;
}

.trade-wanted-label {
    color: var(--newyear-green-dark);
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    text-shadow: 1px 1px 2px rgba(34, 139, 34, 0.1);
}

/* Gift Box Design - Realistic 3D Gift Box */
.gift-box {
    position: relative;
    padding: 25px 20px;
    margin: 20px 0;
    min-height: 120px;
    transform-style: preserve-3d;
    perspective: 1000px;
    transform: perspective(1000px) rotateX(-2deg);
}

/* Green Gift Box - Wanted (I will give this) */
.gift-box-wanted {
    background: linear-gradient(135deg, #1e7a1e 0%, #228B22 30%, #32CD32 50%, #228B22 70%, #1e7a1e 100%);
    border: none;
    box-shadow: 
        0 8px 25px rgba(34, 139, 34, 0.5),
        0 4px 12px rgba(0, 0, 0, 0.3),
        inset 0 3px 15px rgba(255, 255, 255, 0.25),
        inset 0 -3px 15px rgba(0, 0, 0, 0.3),
        inset 2px 0 10px rgba(255, 255, 255, 0.2),
        inset -2px 0 10px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    position: relative;
    overflow: visible;
}

/* Red Gift Box - Offer (This will be mine) */
.gift-box-offer {
    background: linear-gradient(135deg, #b22222 0%, #DC143C 30%, #FF6B6B 50%, #DC143C 70%, #b22222 100%);
    border: none;
    box-shadow: 
        0 8px 25px rgba(220, 20, 60, 0.5),
        0 4px 12px rgba(0, 0, 0, 0.3),
        inset 0 3px 15px rgba(255, 255, 255, 0.25),
        inset 0 -3px 15px rgba(0, 0, 0, 0.3),
        inset 2px 0 10px rgba(255, 255, 255, 0.2),
        inset -2px 0 10px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    position: relative;
    overflow: visible;
}

/* Gift Box Top Lid (3D effect) - More pronounced */
.gift-box-wanted::before,
.gift-box-offer::before {
    content: '';
    position: absolute;
    top: -12px;
    left: -2px;
    right: -2px;
    height: 30px;
    background: inherit;
    border-radius: 10px 10px 0 0;
    transform: perspective(300px) rotateX(-20deg);
    transform-origin: bottom;
    box-shadow: 
        0 -6px 20px rgba(0, 0, 0, 0.4),
        inset 0 2px 8px rgba(255, 255, 255, 0.3),
        inset 0 -2px 8px rgba(0, 0, 0, 0.2);
    z-index: 2;
    border: 2px solid rgba(0, 0, 0, 0.1);
}

/* Ribbons removed - no decorative ribbons */

/* Gift Box 3D Side Shadows for depth */
.gift-box-wanted::after,
.gift-box-offer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -3px;
    width: 6px;
    height: 100%;
    background: linear-gradient(90deg, 
        rgba(0, 0, 0, 0.3) 0%,
        rgba(0, 0, 0, 0.1) 50%,
        transparent 100%
    );
    border-radius: 10px 0 0 10px;
    z-index: 1;
    transform: perspective(200px) rotateY(-5deg);
    transform-origin: left;
}

/* Gift Box Content - Items inside - Always visible */
.gift-box-content {
    position: relative;
    z-index: 2;
    background: rgba(255, 255, 255, 0.98);
    border-radius: 8px;
    padding: 18px;
    box-shadow: 
        inset 0 3px 12px rgba(0, 0, 0, 0.15),
        inset 0 -2px 8px rgba(0, 0, 0, 0.1),
        0 2px 6px rgba(255, 255, 255, 0.4);
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(255, 255, 255, 0.5);
}

.trade-wanted-item {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--newspaper-text);
    display: flex;
    align-items: center;
    gap: 10px;
}

.trade-item-with-image {
    display: flex;
    align-items: center;
    gap: 15px;
}

.trade-item-icon {
    width: 50px;
    height: 50px;
    object-fit: contain;
    border-radius: var(--radius-small);
    background: linear-gradient(135deg, var(--newyear-snow) 0%, rgba(255, 255, 255, 0.95) 100%);
    padding: 5px;
    box-shadow: 0 2px 8px rgba(220, 20, 60, 0.15);
    border: 2px solid rgba(220, 20, 60, 0.1);
    /* SVG Optimization */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: optimizeQuality;
}

.trade-item-info {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Trade Offer Wrapper - Label outside */
.trade-offer-wrapper {
    margin-bottom: 20px;
}

.trade-offer-label {
    color: var(--newspaper-text);
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    text-shadow: 1px 1px 2px rgba(220, 20, 60, 0.1);
}

/* Trade Item Icon inside Gift Box */
.gift-box-content .trade-item-icon {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.9);
    padding: 8px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.5);
}

.gift-box-content .trade-item-with-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    text-align: center;
}

.gift-box-content .trade-item-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}

.gift-box-content .item-quantity {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--newspaper-text);
    text-shadow: none;
}

.gift-box-content .item-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--newspaper-text);
}

/* Offer Items inside Red Gift Box */
.gift-box-content .trade-offer-items {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    width: 100%;
}

.gift-box-content .trade-offer-item {
    background: rgba(255, 255, 255, 0.95);
    padding: 8px 12px;
    border-radius: 6px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 
        0 2px 6px rgba(0, 0, 0, 0.15),
        inset 0 1px 2px rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
    flex: 0 0 auto;
}

.gift-box-content .trade-offer-item:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 
        0 4px 10px rgba(0, 0, 0, 0.2),
        inset 0 1px 2px rgba(255, 255, 255, 0.5);
    border-color: rgba(255, 255, 255, 0.8);
}

.gift-box-content .trade-offer-item-icon {
    width: 32px;
    height: 32px;
    object-fit: contain;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.8);
    padding: 3px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.trade-offer-item-icon {
    width: 35px;
    height: 35px;
    object-fit: contain;
    border-radius: var(--radius-small);
    background: var(--soft-cream);
    padding: 3px;
    /* SVG Optimization */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: optimizeQuality;
}

.trade-offer-item-info {
    display: flex;
    align-items: center;
    gap: 6px;
}

.trade-section-label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
}

.label-icon {
    font-size: 1.2rem;
}

.item-quantity {
    font-weight: 700;
    color: var(--newspaper-text);
}

.item-name {
    color: var(--newspaper-text);
}

.trade-card-footer {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 2px solid rgba(201, 184, 138, 0.3);
    background: transparent;
    padding: 15px;
    margin: 20px -30px -30px -30px;
    border-radius: 0 0 12px 12px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    position: relative;
    z-index: 1;
}

.trade-card-meta {
    display: flex;
    flex-direction: column;
    gap: 8px;
    font-size: 14px;
    color: var(--newspaper-text);
    font-weight: 500;
}

.trade-author,
.trade-date {
    display: flex;
    align-items: center;
    gap: 6px;
}

.trade-author .author-icon,
.trade-date .date-icon {
    font-size: 1.1rem;
    opacity: 0.8;
}

.trust-score {
    color: var(--newyear-green-dark);
    font-weight: 600;
    font-size: 0.9rem;
}

.trust-score {
    font-size: 12px;
    color: var(--farm-green-dark);
    font-weight: 600;
}

.btn-trade-detail {
    white-space: nowrap;
}

/* ============================================
   TRADE FILTER VISUAL GRID
   ============================================ */
.trade-filter-visual-grid {
    background: #FFF6D8;
    padding: 30px;
    border-radius: 12px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    margin-bottom: 40px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    position: relative;
    overflow: hidden;
}

.trade-filter-visual-grid::before {
    content: '';
    display: none;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.filter-grid-title {
    text-align: center;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--newspaper-text);
    margin-bottom: 25px;
    text-shadow: 2px 2px 4px rgba(220, 20, 60, 0.1);
}

.filter-items-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    margin-bottom: 20px;
}

.filter-item-btn {
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    padding: 15px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 3px 10px rgba(220, 20, 60, 0.15);
}

.filter-item-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: transparent;
    transform: translate(-50%, -50%);
    transition: width 0.4s, height 0.4s;
    opacity: 0.1;
}

.filter-item-btn:hover {
    transform: translateY(-5px) scale(1.05);
    border-color: var(--farm-green);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
    background: #FFF6D8;
}

.filter-item-btn:hover::before {
    width: 200px;
    height: 200px;
}

.filter-item-btn.active {
    background: rgba(139, 195, 74, 0.1);
    border-color: var(--farm-green);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.25);
    transform: translateY(-3px) scale(1.03);
}

.filter-item-btn.active .filter-item-label {
    color: var(--farm-green-dark);
    font-weight: 700;
}

.filter-item-image {
    width: 60px;
    height: 60px;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    transition: transform 0.3s ease;
}

.filter-item-btn:hover .filter-item-image {
    transform: scale(1.1) rotate(5deg);
}

.filter-item-btn.active .filter-item-image {
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.2)) brightness(1.1);
    transform: scale(1.15);
}

.filter-item-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--newspaper-text);
    text-align: center;
    transition: all 0.3s ease;
}

.btn-clear-filter-visual {
    display: block;
    margin: 20px auto 0;
    padding: 12px 24px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    color: var(--newspaper-text);
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 0 3px 10px rgba(220, 20, 60, 0.15);
}

.btn-clear-filter-visual:hover {
    background: rgba(139, 195, 74, 0.1);
    border-color: var(--farm-green);
    color: var(--newspaper-text);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.btn-clear-filter-visual .btn-icon {
    margin-right: 8px;
    font-size: 1.1rem;
}

.trade-loading {
    text-align: center;
    padding: 60px 40px;
    background: #FFF6D8;
    border-radius: 16px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    margin: 40px 0;
}

.loading-spinner {
    font-size: 3rem;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
    display: inline-block;
}

.trade-loading p {
    font-size: 1.1rem;
    color: var(--newspaper-text);
    margin: 0;
    font-weight: 600;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* ============================================
   TRADE FEED CONTAINER
   ============================================ */
.trade-feed-main {
    padding: 60px 0;
    background: transparent;
}

/* Trade cards grid - Base definition */
.trade-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 24px;
    margin-bottom: 40px;
    width: 100%;
}

.trade-pagination {
    text-align: center;
    margin-top: 40px;
}

.no-trades-message {
    text-align: center;
    padding: 60px 40px;
    background: #FFF6D8;
    border-radius: 16px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    margin: 40px 0;
}

.no-trades-message-icon {
    font-size: 4rem;
    margin-bottom: 20px;
    opacity: 0.7;
}

.no-trades-message-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0 0 16px 0;
}

.no-trades-message p {
    font-size: 1.05rem;
    color: var(--newspaper-text);
    margin: 12px 0;
    font-weight: 400;
    line-height: 1.6;
}

.no-trades-message p:last-child {
    margin-bottom: 0;
}

.no-trades-message-actions {
    margin-top: 32px;
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
}

.btn-create-listing,
.btn-clear-filter-inline {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 28px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.2s ease;
    min-height: 52px;
}

.btn-create-listing {
    background: var(--farm-green);
    color: white;
    border: none;
    box-shadow: 0 4px 12px rgba(139, 195, 74, 0.3);
}

.btn-create-listing:hover {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(139, 195, 74, 0.4);
}

.btn-clear-filter-inline {
    background: #FFF6D8;
    color: var(--newspaper-text);
    border: 2px solid rgba(201, 184, 138, 0.4);
}

.btn-clear-filter-inline:hover {
    background: rgba(201, 184, 138, 0.1);
    border-color: var(--wood-brown);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .no-trades-message {
        padding: 40px 24px;
        margin: 30px 0;
    }
    
    .no-trades-message-icon {
        font-size: 3.5rem;
    }
    
    .no-trades-message-title {
        font-size: 1.3rem;
    }
    
    .no-trades-message p {
        font-size: 1rem;
    }
    
    .btn-create-listing,
    .btn-clear-filter-inline {
        width: 100%;
        max-width: 300px;
    }
}

/* ============================================
   MAIN FEATURES SECTION (4 CTAs)
   ============================================ */
.main-features-section {
    padding: 60px 0;
    background: var(--gradient-grass);
    position: relative;
}

.main-features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 25px;
}

.main-feature-card {
    background: #FFF6D8;
    padding: 30px;
    border-radius: 12px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    text-align: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.main-feature-card:hover {
    transform: translateY(-8px);
    border-color: var(--farm-green);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
}

.main-feature-card.highlight {
    background: #FFF6D8;
    border-color: var(--farm-green);
    transform: scale(1.05);
}

.main-feature-card.highlight:hover {
    transform: scale(1.08) translateY(-8px);
    box-shadow: 0 6px 16px rgba(76, 175, 80, 0.25);
}

.feature-icon {
    font-size: 60px;
    margin-bottom: 15px;
    display: block;
    animation: bounce 2s ease-in-out infinite;
}

.feature-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    color: var(--wood-brown);
    margin-bottom: 10px;
}

.feature-description {
    color: var(--wood-brown-light);
    margin-bottom: 20px;
    font-size: 15px;
}

/* ============================================
   RESPONSIVE: TRADE CARDS & FILTERS
   ============================================ */
/* Single Trade Page Mobile Styles */
@media (max-width: 768px) {
    .single-trade-offer {
        padding: 20px 15px;
    }
    
    .trade-title-single {
        font-size: 1.5rem;
    }
    
    /* Author Info Header - Mobile */
    .trade-author-info-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        padding: 12px;
    }
    
    .author-farm-name {
        font-size: 1rem;
        width: 100%;
    }
    
    .farm-icon {
        font-size: 1.1rem;
    }
    
    .author-stats-header {
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    
    .trade-count-badge {
        font-size: 0.85rem;
        padding: 5px 10px;
    }
    
    .stars-rating {
        gap: 3px;
    }
    
    .star {
        font-size: 1rem;
    }
    
    .star.star-filled {
        transform: scale(1.05);
    }
    
    .stars-average {
        font-size: 0.85rem;
        margin-left: 6px;
    }
    
    /* Trade details - side by side layout on mobile */
    .trade-details-single {
        display: flex;
        flex-direction: row;
        gap: 12px;
        margin: 20px 0;
    }
    
    .trade-wanted-wrapper-single,
    .trade-offer-wrapper-single {
        flex: 1;
        margin-bottom: 0;
        min-width: 0; /* Allow flex items to shrink */
    }
    
    .trade-wanted-wrapper-single .trade-wanted-label,
    .trade-offer-wrapper-single .trade-offer-label {
        font-size: 0.85rem;
        margin-bottom: 8px;
        line-height: 1.2;
    }
    
    .gift-box-single {
        padding: 12px 10px;
        min-height: 90px;
        transform: perspective(600px) rotateX(-1deg);
    }
    
    .gift-box-single::before {
        height: 16px;
        top: -6px;
    }
    
    .gift-box-single .gift-box-content {
        padding: 10px 8px;
        min-height: 70px;
    }
    
    .gift-box-single .trade-item-icon {
        width: 35px;
        height: 35px;
    }
    
    .gift-box-single .item-quantity {
        font-size: 0.9rem;
    }
    
    .gift-box-single .item-name {
        font-size: 0.75rem;
        line-height: 1.2;
    }
    
    .gift-box-single .trade-item-with-image {
        gap: 6px;
    }
    
    .gift-box-single .trade-item-info {
        gap: 3px;
    }
    
    /* Offer items in gift box - smaller on mobile */
    .gift-box-single .trade-offer-items {
        gap: 6px;
    }
    
    .gift-box-single .trade-offer-item {
        padding: 6px 8px;
    }
    
    .gift-box-single .trade-offer-item-icon {
        width: 24px;
        height: 24px;
    }
    
    .gift-box-single .trade-offer-item-info {
        gap: 3px;
    }
    
    .gift-box-single .trade-offer-item-info .item-quantity {
        font-size: 0.8rem;
    }
    
    .gift-box-single .trade-offer-item-info .item-name {
        font-size: 0.7rem;
    }
    
    .explanation-box {
        padding: 20px;
    }
    
    .explanation-title {
        font-size: 1.2rem;
    }
    
    /* Back button - Mobile */
    .trade-back-button {
        margin-bottom: 15px;
    }
    
    .btn-back-link {
        width: 100%;
        padding: 12px 18px;
        font-size: 0.95rem;
        justify-content: center;
        text-align: center;
    }
    
    /* Status badge - Mobile */
    .trade-status-badge {
        font-size: 0.85rem;
        padding: 6px 12px;
    }
    
    /* Trade meta header - Mobile */
    .trade-meta-header-single {
        margin-top: 8px;
        gap: 10px;
    }
    
    /* Completed banner - Mobile */
    .trade-completed-banner {
        padding: 12px 15px;
        font-size: 0.9rem;
        margin: 15px 0;
    }
    
    /* Explanation box - Mobile */
    .trade-explanation-single {
        margin: 25px 0;
    }
    
    .explanation-box {
        padding: 15px;
    }
    
    .explanation-title {
        font-size: 1.1rem;
        margin-bottom: 12px;
    }
    
    .explanation-content p {
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 10px 0;
    }
    
    .example-text {
        padding: 12px;
        font-size: 0.85rem;
    }
    
    /* Action buttons - Mobile */
    .trade-actions-single {
        flex-direction: column;
        gap: 12px;
        margin: 25px 0;
    }
    
    .btn-back-to-list,
    .btn-contact-seller {
        width: 100%;
        justify-content: center;
        padding: 14px 20px;
        font-size: 0.95rem;
    }
    
    /* Comments section - Mobile */
    .trade-comments-section {
        margin-top: 30px;
        padding-top: 20px;
    }
    
    .comments-title {
        font-size: 1.3rem;
        margin-bottom: 15px;
    }
    
    /* Comment form - Mobile */
    .comment-form textarea,
    .comment-form input[type="text"],
    .comment-form input[type="email"],
    .comment-form input[type="url"] {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        padding: 12px;
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    .comment-form textarea {
        min-height: 120px;
        resize: vertical;
    }
    
    .comment-form .form-submit {
        width: 100%;
    }
    
    .comment-form input[type="submit"] {
        width: 100%;
        padding: 14px 20px;
        font-size: 1rem;
        font-weight: 700;
    }
    
    /* Comment list - Mobile */
    .comment-list {
        padding: 0;
    }
    
    .comment {
        padding: 15px;
        margin-bottom: 15px;
    }
    
    .comment-author {
        font-size: 0.95rem;
    }
    
    .comment-meta {
        font-size: 0.85rem;
    }
    
    .comment-content {
        font-size: 0.9rem;
        line-height: 1.6;
        margin-top: 10px;
    }
    
    /* Rating buttons - Mobile */
    .comment-rating-buttons {
        display: flex;
        gap: 10px;
        margin-top: 10px;
        flex-wrap: wrap;
    }
    
    .btn-rate {
        flex: 1;
        min-width: 120px;
        padding: 10px 15px;
        font-size: 0.9rem;
    }
    
    /* Error messages and empty states - Mobile */
    .no-trade-found,
    .error-message {
        padding: 20px 15px;
        margin: 20px 0;
        text-align: center;
    }
    
    .no-trade-found h1,
    .error-message h2 {
        font-size: 1.5rem;
        margin-bottom: 12px;
    }
    
    .no-trade-found p,
    .error-message p {
        font-size: 0.9rem;
        line-height: 1.6;
        margin: 8px 0;
    }
    
    .no-trade-found .btn-back-to-list,
    .error-message .btn-back-to-list {
        margin-top: 15px;
        width: 100%;
        padding: 12px 20px;
        font-size: 0.95rem;
    }
    
    /* Container - Mobile */
    .container {
        padding-left: 15px;
        padding-right: 15px;
    }
    
    /* Header border - Mobile */
    .trade-header-single {
        padding-bottom: 15px;
        margin-bottom: 20px;
    }
    
    /* Label icons - Mobile */
    .label-icon {
        font-size: 1rem;
    }
    
    /* Trade section labels - Mobile */
    .trade-section-label {
        font-size: 0.9rem;
    }
    
    .trade-cards-grid {
        grid-template-columns: 1fr;
    }
    
    /* Visual Filter Grid - Mobile */
    .trade-filter-visual-grid {
        padding: 20px 15px;
        margin-bottom: 30px;
    }
    
    .filter-grid-title {
        font-size: 1.1rem;
        margin-bottom: 20px;
    }
    
    .filter-items-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-bottom: 15px;
    }
    
    .filter-item-btn {
        padding: 10px 8px;
        gap: 6px;
    }
    
    .filter-item-image {
        width: 45px;
        height: 45px;
    }
    
    .filter-item-label {
        font-size: 0.75rem;
        line-height: 1.2;
    }
    
    .btn-clear-filter-visual {
        padding: 10px 20px;
        font-size: 0.9rem;
        width: 100%;
        max-width: 300px;
    }
    
    .trade-loading {
        padding: 40px 24px;
        margin: 30px 0;
    }
    
    .loading-spinner {
        font-size: 2.5rem;
    }
    
    .trade-loading p {
        font-size: 1rem;
    }
    
    /* Trade card - Mobile: Compact and clickable */
    .trade-card {
        margin-bottom: 20px;
        padding: 15px;
    }
    
    .trade-card-header {
        margin-bottom: 12px;
        padding: 10px;
        margin: -15px -15px 12px -15px;
    }
    
    .trade-card-title {
        font-size: 1.1rem;
        line-height: 1.3;
    }
    
    .trade-card-footer {
        padding: 10px;
        margin: 12px -15px -15px -15px;
    }
    
    /* Gift boxes side by side on mobile */
    .trade-card-content {
        margin: 12px 0;
        display: flex;
        flex-direction: row;
        gap: 10px;
        align-items: flex-start;
    }
    
    .trade-wanted-wrapper,
    .trade-offer-wrapper {
        flex: 1;
        min-width: 0;
        margin-bottom: 0;
    }
    
    .trade-wanted-label,
    .trade-offer-label {
        font-size: 0.75rem;
        margin-bottom: 6px;
        line-height: 1.2;
    }
    
    .label-icon {
        font-size: 0.9rem;
    }
    
    /* Smaller gift boxes on mobile */
    .gift-box {
        padding: 10px 8px;
        min-height: 70px;
        margin: 0;
        transform: perspective(500px) rotateX(-1deg);
    }
    
    .gift-box::before {
        height: 12px;
        top: -4px;
        left: -1px;
        right: -1px;
    }
    
    .gift-box-content {
        padding: 8px 6px;
        min-height: 55px;
    }
    
    .gift-box-content .trade-item-icon {
        width: 28px;
        height: 28px;
    }
    
    .gift-box-content .item-quantity {
        font-size: 0.8rem;
    }
    
    .gift-box-content .item-name {
        font-size: 0.7rem;
        line-height: 1.2;
    }
    
    .gift-box-content .trade-item-with-image {
        gap: 4px;
    }
    
    .gift-box-content .trade-item-info {
        gap: 2px;
    }
    
    /* Offer items in gift box - smaller on mobile */
    .gift-box-content .trade-offer-items {
        gap: 4px;
        flex-direction: column;
    }
    
    .gift-box-content .trade-offer-item {
        padding: 4px 6px;
        font-size: 0.7rem;
    }
    
    .gift-box-content .trade-offer-item-icon {
        width: 18px;
        height: 18px;
    }
    
    .gift-box-content .trade-offer-item-info {
        gap: 2px;
    }
    
    .gift-box-content .trade-offer-item-info .item-quantity {
        font-size: 0.65rem;
    }
    
    .gift-box-content .trade-offer-item-info .item-name {
        font-size: 0.65rem;
    }
    
    /* Trade card footer - Mobile */
    .trade-card-footer {
        margin-top: 12px;
        padding-top: 10px;
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .trade-card-meta {
        font-size: 0.8rem;
        gap: 6px;
        width: 100%;
    }
    
    .trade-author,
    .trade-date {
        font-size: 0.75rem;
    }
    
    .trust-score {
        font-size: 0.7rem;
    }
    
    /* Remove button - already removed from HTML */
    .btn-trade-detail {
        display: none;
    }
    
    /* Gift box mobile adjustments */
    .gift-box {
        padding: 20px 15px;
        min-height: 100px;
        transform: perspective(800px) rotateX(-1deg);
    }
    
    .gift-box::before {
        height: 24px;
        top: -10px;
        left: -1px;
        right: -1px;
    }
    
    .gift-box-content {
        padding: 15px;
        min-height: 70px;
    }
    
    .gift-box-content .trade-item-icon {
        width: 50px;
        height: 50px;
    }
    
    .gift-box-content .item-quantity {
        font-size: 1rem;
    }
    
    .gift-box-content .item-name {
        font-size: 0.85rem;
    }
    
    .trade-wanted-label,
    .trade-offer-label {
        font-size: 1rem;
        margin-bottom: 10px;
    }
    
    .gift-box-content .trade-offer-items {
        flex-direction: column;
        gap: 8px;
    }
    
    .gift-box-content .trade-offer-item {
        width: 100%;
        justify-content: center;
        padding: 8px 10px;
    }
    
    .gift-box-content .trade-offer-item-icon {
        width: 28px;
        height: 28px;
    }
    
    .main-features-grid {
        grid-template-columns: 1fr;
    }
    
    .main-feature-card.highlight {
        transform: scale(1);
    }
}

/* ============================================
   SINGLE TRADE OFFER PAGE
   ============================================ */
.single-trade-offer {
    max-width: 900px;
    margin: 0 auto;
    padding: 30px 20px;
}

.trade-back-button {
    margin-bottom: 20px;
}

.btn-back-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: var(--soft-cream);
    border: 2px solid var(--wood-brown-light);
    border-radius: var(--radius-medium);
    color: var(--wood-brown);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-back-link:hover {
    background: var(--wood-brown-light);
    color: var(--clean-white);
    transform: translateX(-5px);
}

.trade-header-single {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 3px solid var(--wood-brown-light);
}

.trade-title-single {
    font-family: 'Baloo 2', sans-serif;
    font-size: 2rem;
    color: var(--wood-brown);
    margin: 0 0 15px 0;
    line-height: 1.3;
}

/* Author Info Header - Farm Name, Trade Count, Stars */
.trade-author-info-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
    padding: 15px;
    background: linear-gradient(135deg, rgba(255, 248, 220, 0.3) 0%, rgba(255, 250, 240, 0.2) 100%);
    border-radius: var(--radius-medium);
    border: 2px solid var(--wood-brown-light);
    flex-wrap: wrap;
}

.author-farm-name {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    color: var(--wood-brown);
    font-size: 1.1rem;
}

.farm-icon {
    font-size: 1.3rem;
}

.farm-name-text {
    font-family: 'Baloo 2', sans-serif;
}

.author-stats-header {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
}

.trade-count-badge {
    background: var(--soft-cream);
    padding: 6px 12px;
    border-radius: var(--radius-small);
    border: 2px solid var(--wood-brown-light);
    font-weight: 700;
    color: var(--wood-brown);
    font-size: 0.95rem;
}

.stars-rating {
    display: flex;
    align-items: center;
    gap: 4px;
}

.star {
    font-size: 1.2rem;
    line-height: 1;
    transition: transform 0.2s ease;
}

.star.star-filled {
    filter: brightness(1.2) drop-shadow(0 2px 4px rgba(255, 215, 0, 0.5));
    transform: scale(1.1);
}

.star.star-empty {
    opacity: 0.3;
    filter: grayscale(0.5);
}

.stars-average {
    margin-left: 8px;
    font-weight: 700;
    color: var(--wood-brown);
    font-size: 0.95rem;
}

.trade-meta-header-single {
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
    margin-top: 10px;
}

.trade-date-single {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--wood-brown-light);
    font-size: 0.95rem;
}

.trade-details-single {
    margin: 30px 0;
}

.trade-wanted-wrapper-single,
.trade-offer-wrapper-single {
    margin-bottom: 30px;
}

.trade-wanted-wrapper-single .trade-wanted-label,
.trade-offer-wrapper-single .trade-offer-label {
    font-size: 1.3rem;
    margin-bottom: 15px;
}

.gift-box-single {
    min-height: 150px;
    padding: 30px 25px;
}

.gift-box-single .gift-box-content {
    min-height: 120px;
    padding: 20px;
}

.gift-box-single .trade-item-icon {
    width: 80px;
    height: 80px;
}

.gift-box-single .item-quantity {
    font-size: 1.5rem;
}

.gift-box-single .item-name {
    font-size: 1.2rem;
}

.trade-explanation-single {
    margin: 40px 0;
}

.explanation-box {
    background: linear-gradient(135deg, rgba(173, 216, 255, 0.2) 0%, rgba(224, 246, 255, 0.15) 100%);
    padding: 25px;
    border-radius: var(--radius-large);
    border: 3px solid var(--sky-blue);
    box-shadow: 0 4px 15px rgba(173, 216, 255, 0.2);
}

.explanation-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.4rem;
    color: var(--wood-brown);
    margin: 0 0 15px 0;
}

.explanation-content p {
    margin: 12px 0;
    line-height: 1.8;
    color: var(--wood-brown);
    font-size: 1rem;
}

.example-text {
    background: rgba(255, 255, 255, 0.6);
    padding: 15px;
    border-radius: var(--radius-small);
    border-left: 4px solid var(--newyear-red);
    margin-top: 15px !important;
}

.trade-actions-single {
    display: flex;
    gap: 15px;
    margin: 30px 0;
    flex-wrap: wrap;
}

.btn-back-to-list,
.btn-contact-seller {
    padding: 15px 30px;
    font-size: 1rem;
    font-weight: 700;
    text-decoration: none;
    border-radius: var(--radius-medium);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.btn-back-to-list {
    background: var(--soft-cream);
    border: 2px solid var(--wood-brown-light);
    color: var(--wood-brown);
}

.btn-back-to-list:hover {
    background: var(--wood-brown-light);
    color: var(--clean-white);
    transform: translateY(-2px);
}

.btn-contact-seller {
    background: linear-gradient(135deg, var(--newyear-red) 0%, var(--newyear-green) 100%);
    border: none;
    color: var(--clean-white);
    box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
}

.btn-contact-seller:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(220, 20, 60, 0.4);
}

/* Author section removed - moved to header */

.author-name-single {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--wood-brown);
}

.trust-score-detailed {
    font-size: 0.95rem;
    color: var(--wood-brown-light);
}

.trust-plus {
    color: var(--newyear-green);
    font-weight: 700;
}

.trust-minus {
    color: var(--newspaper-text);
    font-weight: 700;
}

.trade-comments-section {
    margin-top: 40px;
    padding-top: 30px;
    border-top: 3px solid var(--wood-brown-light);
}

.comments-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    color: var(--wood-brown);
    margin-bottom: 20px;
}

main {
    background: transparent;
    flex: 1;
}

.single-trade-main {
    padding: 40px 0;
}

.trade-offer-header {
    margin-bottom: 40px;
}

.trade-header-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 15px;
}

.trade-offer-title {
    flex: 1;
    margin: 0;
}

.trade-completed-banner {
    background: var(--hay-yellow-light);
    border: 3px solid var(--hay-yellow);
    padding: 15px 20px;
    border-radius: var(--radius-medium);
    margin-bottom: 20px;
    text-align: center;
    font-weight: 600;
    color: var(--wood-brown);
}

.trade-explanation {
    background: #FFF6D8;
    padding: 20px;
    border-radius: var(--radius-medium);
    border: 2px solid var(--wood-brown-light);
    margin-top: 20px;
}

.trade-explanation h3 {
    color: var(--wood-brown);
    margin-bottom: 10px;
    font-size: 1.2rem;
}

.trade-explanation p {
    margin: 8px 0;
    line-height: 1.6;
}

.trade-details-section {
    margin-bottom: 40px;
}

.trade-detail-card {
    background: var(--soft-cream);
    padding: 25px;
    border-radius: var(--radius-large);
    border: 3px solid var(--wood-brown);
    margin-bottom: 25px;
    box-shadow: var(--shadow-soft);
}

.trade-wanted-card {
    background: var(--farm-green-light);
    border-color: var(--farm-green);
}

.trade-offer-card {
    background: var(--hay-yellow-light);
    border-color: var(--hay-yellow);
}

.trade-info-card {
    background: var(--clean-white);
}

.trade-description-card {
    background: var(--soft-cream);
}

.trade-detail-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    color: var(--wood-brown);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.title-icon {
    font-size: 1.5rem;
}

.trade-detail-content {
    margin-top: 15px;
}

.trade-item-large {
    font-size: 2rem;
    font-weight: 700;
    color: var(--wood-brown);
    display: flex;
    align-items: center;
    gap: 15px;
}

.item-quantity-large {
    color: var(--warm-orange);
    font-size: 2.5rem;
}

.item-name-large {
    color: var(--wood-brown);
}

.trade-offer-items-large {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.trade-offer-item-large {
    background: var(--clean-white);
    padding: 15px 25px;
    border-radius: var(--radius-medium);
    border: 2px solid var(--newyear-ice);
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1.3rem;
    font-weight: 600;
}

.trade-info-item {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid var(--wood-brown-light);
}

.trade-info-item:last-child {
    border-bottom: none;
}

.info-label {
    font-weight: 600;
    color: var(--wood-brown);
}

.info-value {
    color: var(--wood-brown-light);
}

.trust-score-large {
    color: var(--farm-green-dark);
    font-weight: 600;
    margin-left: 10px;
}

.trade-description {
    line-height: 1.8;
    color: var(--wood-brown);
}

.trade-offers-section {
    margin-top: 50px;
    padding-top: 40px;
    border-top: 3px solid var(--wood-brown);
}

/* ============================================
   COMMENT RATING BUTTONS
   ============================================ */
.comment-rating-buttons {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--wood-brown-light);
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.btn-rate {
    padding: 8px 16px;
    border: 2px solid var(--wood-brown-light);
    border-radius: var(--radius-small);
    background: var(--clean-white);
    color: var(--wood-brown);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
}

.btn-rate:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-soft);
}

.btn-rate-plus:hover {
    background: var(--farm-green-light);
    border-color: var(--farm-green);
    color: var(--farm-green-dark);
}

.btn-rate-minus:hover {
    background: var(--warm-orange-light);
    border-color: var(--warm-orange);
    color: var(--warm-orange-dark);
}

.btn-rate:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.rating-success {
    color: var(--farm-green-dark);
    font-weight: 600;
    font-size: 14px;
}

/* ============================================
   RESPONSIVE: SINGLE TRADE PAGE
   ============================================ */
@media (max-width: 768px) {
    .trade-header-top {
        flex-direction: column;
    }
    
    .trade-offer-title {
        font-size: 1.8rem;
    }
    
    .trade-item-large {
        font-size: 1.5rem;
    }
    
    .item-quantity-large {
        font-size: 2rem;
    }
    
    .trade-offer-item-large {
        font-size: 1.1rem;
        padding: 12px 18px;
    }
    
    .trade-info-item {
        flex-direction: column;
        gap: 5px;
    }
}

/* ============================================
   ITEM CARD SELECTION UI
   ============================================ */
.create-trade-form-section {
    padding: 60px 0;
    background: #FFF6D8;
}

.create-trade-wrapper {
    max-width: 900px;
    margin: 0 auto;
    background: #FFF6D8;
    padding: 40px;
    border-radius: 12px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.form-section {
    margin-bottom: 40px;
    background: #FFF6D8;
    padding: 25px;
    border-radius: 12px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.form-section-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 1.5rem;
    color: var(--newspaper-text);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

.form-section-subtitle {
    display: flex;
    flex-direction: column;
    gap: 4px;
    font-size: 0.9rem;
    font-weight: 400;
    margin-left: auto;
}

#offer-selection-count {
    font-weight: 700;
    color: var(--farm-green);
    font-size: 1rem;
}

#offer-selection-count.limit-reached {
    color: var(--wood-brown);
}

.subtitle-hint {
    font-size: 0.85rem;
    color: var(--newspaper-text-light);
}

.items-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.item-card-wrapper {
    position: relative;
    transition: all 0.2s ease;
}

.item-card-wrapper.selected {
    transform: scale(1.05);
}

.item-card-wrapper.selected .item-card {
    border-color: var(--farm-green);
    box-shadow: 0 4px 16px rgba(139, 195, 74, 0.3);
    background: rgba(139, 195, 74, 0.05);
}

.item-card-wrapper.selected .item-card::after {
    content: 'âœ“';
    position: absolute;
    top: -8px;
    right: -8px;
    width: 28px;
    height: 28px;
    background: var(--farm-green);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
    box-shadow: 0 2px 8px rgba(139, 195, 74, 0.4);
}

/* ============================================
   TOAST NOTIFICATIONS
   ============================================ */

.toast-container {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.toast {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    min-width: 280px;
    max-width: 400px;
    opacity: 0;
    transform: translateX(100px);
    transition: all 0.3s ease;
}

.toast.visible {
    opacity: 1;
    transform: translateX(0);
}

.toast-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.toast-message {
    font-size: 1rem;
    font-weight: 600;
    color: var(--newspaper-text);
    line-height: 1.4;
}

.toast-error {
    border-color: #dc3545;
    background: #fff5f5;
}

.toast-warning {
    border-color: #ffc107;
    background: #fffbf0;
}

.toast-success {
    border-color: var(--farm-green);
    background: rgba(139, 195, 74, 0.05);
}

@media (max-width: 768px) {
    .toast-container {
        top: 70px;
        right: 15px;
        left: 15px;
    }
    
    .toast {
        min-width: auto;
        max-width: none;
    }
}

/* ============================================
   FORM ERROR MESSAGE
   ============================================ */

.form-error-message {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    background: #fff5f5;
    border: 2px solid #dc3545;
    border-radius: 12px;
    margin-bottom: 24px;
}

.error-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.error-text {
    font-size: 1rem;
    font-weight: 600;
    color: #dc3545;
    line-height: 1.4;
}

@media (max-width: 768px) {
    .form-error-message {
        padding: 14px 16px;
    }
    
    .error-icon {
        font-size: 1.3rem;
    }
    
    .error-text {
        font-size: 0.95rem;
    }
}

.item-card-input {
    position: absolute;
    opacity: 0;
    pointer-events: none;
}

.item-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: var(--radius-medium);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.item-card:hover {
    transform: translateY(-5px) scale(1.05);
    border-color: var(--farm-green);
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.25);
}

.item-card-input:checked + .item-card {
    background: rgba(201, 184, 138, 0.15);
    border-color: var(--farm-green);
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.25);
    transform: translateY(-3px) scale(1.03);
}

.item-card-image-wrapper {
    position: relative;
    width: 80px;
    height: 80px;
    margin-bottom: 10px;
    border-radius: var(--radius-small);
    overflow: hidden;
    background: #FFF6D8;
    display: flex;
    align-items: center;
    justify-content: center;
}

.item-card-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.3s ease;
    /* SVG Optimization */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    image-rendering: optimizeQuality;
    will-change: transform;
}

.item-card:hover .item-card-image {
    transform: scale(1.1);
}

.item-card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(116, 195, 101, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.item-card-input:checked + .item-card .item-card-overlay {
    opacity: 1;
}

.item-card-check {
    color: var(--clean-white);
    font-size: 2rem;
    font-weight: 700;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.item-card-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--wood-brown);
    line-height: 1.3;
    margin-top: 5px;
}

.item-card-input:checked + .item-card .item-card-label {
    color: var(--farm-green-dark);
    font-weight: 700;
}

/* ============================================
   QUANTITY STEPPER (Enhanced UX)
   ============================================ */

.quantity-stepper-wrapper {
    margin-top: 24px;
    padding: 20px;
    background: rgba(139, 195, 74, 0.05);
    border: 2px solid rgba(139, 195, 74, 0.2);
    border-radius: 12px;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
}

.quantity-stepper-wrapper.visible {
    opacity: 1;
    transform: translateY(0);
}

.stepper-label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    margin-bottom: 12px;
}

.stepper-label-text {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--newspaper-text);
}

.stepper-hint {
    font-size: 0.9rem;
    color: var(--newspaper-text-light);
    font-weight: 400;
}

.quantity-stepper {
    display: flex;
    align-items: center;
    gap: 12px;
    justify-content: center;
}

.qty-btn {
    width: 48px;
    height: 48px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    background: #FFF6D8;
    border-radius: 12px;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--newspaper-text);
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

.qty-btn:hover {
    background: var(--farm-green);
    color: white;
    border-color: var(--farm-green);
    transform: scale(1.05);
}

.qty-btn:active {
    transform: scale(0.95);
}

.qty-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.qty-input {
    width: 80px;
    height: 48px;
    text-align: center;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--newspaper-text);
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    background: #FFF6D8;
    transition: all 0.2s ease;
    user-select: none;
    /* Hide number input spinners */
    -moz-appearance: textfield;
}

/* Hide number input spinners for WebKit browsers (Chrome, Safari, Edge) */
.qty-input::-webkit-outer-spin-button,
.qty-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.qty-input:focus {
    outline: none;
    border-color: var(--farm-green);
    box-shadow: 0 0 0 3px rgba(139, 195, 74, 0.1);
}

.qty-input.value-changing {
    transform: scale(1.1);
}

.qty-input.value-increase {
    color: var(--farm-green);
}

.qty-input.value-decrease {
    color: var(--wood-brown);
}

/* Offer quantity items */
/* Offer quantity item - animation styles */
.offer-quantity-item {
    display: block !important; /* Ensure it's visible */
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
    margin-bottom: 16px;
    width: 100%;
    visibility: visible; /* Ensure element is in layout */
}

.offer-quantity-item.visible {
    opacity: 1 !important;
    transform: translateY(0) !important;
}

.offer-quantity-item:not(:last-child) {
    margin-bottom: 16px;
}

/* Old quantity input (deprecated) */
.quantity-input-wrapper-old {
    margin-top: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.quantity-input-wrapper-old label {
    font-weight: 600;
    color: #2C2C2C;
}

.quantity-input-old {
    padding: 10px 15px;
    border: 2px solid rgba(220, 20, 60, 0.3);
    border-radius: var(--radius-small);
    font-size: 16px;
    width: 100px;
    max-width: 100%;
    background: var(--clean-white);
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.quantity-input:focus {
    outline: none;
    border-color: var(--newspaper-text);
    box-shadow: 0 0 0 3px rgba(220, 20, 60, 0.2);
}

.offer-quantities {
    margin-top: 20px;
    display: flex !important;
    flex-direction: column;
    gap: 15px;
    min-height: 0;
    width: 100%;
    box-sizing: border-box;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Offer quantity item - layout styles (merged with animation styles above) */
.offer-quantity-item .quantity-stepper-wrapper {
    width: 100%;
    box-sizing: border-box;
    margin-top: 0; /* Override default margin-top from .quantity-stepper-wrapper */
    padding: 20px;
    background: rgba(139, 195, 74, 0.05);
    border: 2px solid rgba(139, 195, 74, 0.2);
    border-radius: 12px;
    opacity: 1; /* Override default opacity */
    transform: none; /* Override default transform */
}

.offer-quantity-item label {
    font-weight: 600;
    color: #2C2C2C;
    min-width: 120px;
    flex-shrink: 0;
}

.offer-quantity-item input[type="number"],
.offer-quantity-item .qty-input {
    flex: 1;
    min-width: 0;
    border: 2px solid rgba(201, 184, 138, 0.4) !important; /* Override any red borders */
    background: #FFF6D8 !important; /* Ensure correct background */
    color: var(--newspaper-text) !important;
    /* Hide number input spinners */
    -moz-appearance: textfield !important;
}

/* Hide number input spinners for WebKit browsers in offer quantity items */
.offer-quantity-item input[type="number"]::-webkit-outer-spin-button,
.offer-quantity-item input[type="number"]::-webkit-inner-spin-button,
.offer-quantity-item .qty-input::-webkit-outer-spin-button,
.offer-quantity-item .qty-input::-webkit-inner-spin-button {
    -webkit-appearance: none !important;
    margin: 0;
}

.form-field {
    margin-bottom: 20px;
}

.form-field label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    color: #2C2C2C;
}

.form-input,
.form-textarea {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid rgba(220, 20, 60, 0.3);
    border-radius: var(--radius-small);
    font-size: 15px;
    font-family: inherit;
    background: var(--clean-white);
    color: #2C2C2C;
    transition: all 0.3s ease;
}

.form-input:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--newspaper-text);
    box-shadow: 0 0 0 3px rgba(220, 20, 60, 0.2);
}

.form-textarea {
    resize: vertical;
    min-height: 100px;
}

.form-actions {
    margin-top: 30px;
    text-align: center;
}

.btn-submit-trade {
    padding: 15px 40px;
    font-size: 18px;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    gap: 10px;
}

.btn-icon {
    font-size: 1.2em;
}

/* ============================================
   RESPONSIVE: ITEM CARDS & FORM
   ============================================ */
@media (max-width: 768px) {
    /* Container overflow fix */
    .container {
        padding-left: 15px;
        padding-right: 15px;
        max-width: 100%;
        overflow-x: hidden;
    }
    
    .create-trade-wrapper {
        padding: 20px 15px;
        margin: 0 10px;
        max-width: calc(100% - 20px);
    }
    
    .form-section {
        padding: 20px 15px;
        margin-bottom: 25px;
    }
    
    .items-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 8px;
        margin-bottom: 15px;
    }
    
    .item-card {
        padding: 8px;
    }
    
    .item-card-image-wrapper {
        width: 50px;
        height: 50px;
    }
    
    .item-card-label {
        font-size: 10px;
        line-height: 1.2;
        word-break: break-word;
    }
    
    .form-section-title {
        font-size: 1.2rem;
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .form-section-subtitle {
        margin-left: 0;
        width: 100%;
    }
    
    .quantity-stepper-wrapper {
        padding: 16px;
    }
    
    .qty-btn {
        width: 44px;
        height: 44px;
        font-size: 1.3rem;
    }
    
    .qty-input {
        width: 70px;
        height: 44px;
        font-size: 1.2rem;
    }
    
    .stepper-label-text {
        font-size: 1rem;
    }
    
    .stepper-hint {
        font-size: 0.85rem;
    }
    
    /* Old styles (deprecated) */
    .quantity-input-wrapper-old {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
    }
    
    .quantity-input-old {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    /* Offer quantities mobile fix */
    .offer-quantities {
        width: 100%;
        overflow-x: hidden;
    }
    
    .offer-quantity-item {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
        box-sizing: border-box;
        padding: 12px;
    }
    
    .offer-quantity-item label {
        min-width: auto;
        width: 100%;
        margin-bottom: 8px;
    }
    
    .offer-quantity-item input[type="number"] {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box;
        /* Ensure spinners are hidden on mobile too */
        -moz-appearance: textfield !important;
    }
    
    .offer-quantity-item input[type="number"]::-webkit-outer-spin-button,
    .offer-quantity-item input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none !important;
        margin: 0;
    }
    
    /* Form inputs mobile fix */
    .form-input,
    .form-textarea {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    /* Form actions mobile fix */
    .form-actions {
        width: 100%;
    }
    
    .btn-submit-trade {
        width: 100%;
        padding: 15px;
        font-size: 16px;
    }
    
    /* Trade filter bar mobile fix */
    .trade-filter-bar {
        padding: 15px;
        margin: 0 -15px;
    }
    
    .trade-filters {
        gap: 10px;
    }
    
    /* Trade cards grid mobile fix */
    .trade-cards-grid {
        gap: 15px;
        padding: 0 5px;
    }
}

/* ============================================
   YILBAÅžI TEMALI DEKORASYONLAR
   ============================================ */

/* Header'a yÄ±lbaÅŸÄ± temasÄ± */
.cartoon-header,
header {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 248, 255, 0.9) 100%);
    border-bottom: 3px solid var(--newyear-red);
    box-shadow: 0 4px 20px rgba(220, 20, 60, 0.2);
}

/* Butonlara yÄ±lbaÅŸÄ± renkleri */
.btn-primary,
.btn-wooden-sign,
.btn-submit-trade {
    background: linear-gradient(135deg, var(--newyear-red) 0%, var(--newyear-green) 100%);
    box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
}

.btn-primary:hover,
.btn-wooden-sign:hover,
.btn-submit-trade:hover {
    background: linear-gradient(135deg, var(--newyear-red-light) 0%, var(--newyear-green-light) 100%);
    box-shadow: 0 6px 20px rgba(220, 20, 60, 0.4);
    transform: translateY(-2px);
}

/* Kartlara yÄ±lbaÅŸÄ± gÃ¶lgeleri */
.farm-card,
.trade-card,
.item-card {
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.08),
        0 1px 4px rgba(201, 184, 138, 0.15);
}

/* Footer - Unified background */
footer,
.footer {
    background: #FFF6D8;
    color: #2C2C2C;
    position: relative;
    margin-top: auto;
    padding: 30px 0;
}

/* Footer iÃ§erik stilleri */
.footer-content {
    padding: 0;
}

.footer-info {
    text-align: center;
    margin-bottom: 20px;
}

.footer-info p {
    color: #2C2C2C;
    margin: 0;
    font-size: 14px;
}

.footer-links {
    text-align: center;
    margin-bottom: 16px;
}

.footer-menu {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
}

/* Legal Links in Footer */
.footer-legal-links {
    text-align: center;
    margin: 16px 0;
    padding: 12px 0;
    border-top: 1px solid rgba(201, 184, 138, 0.3);
    border-bottom: 1px solid rgba(201, 184, 138, 0.3);
}

.footer-legal-link {
    color: var(--newspaper-text-light);
    text-decoration: none;
    font-size: 0.9rem;
    transition: color 0.2s ease;
}

.footer-legal-link:hover {
    color: var(--farm-green);
    text-decoration: underline;
}

.footer-legal-separator {
    margin: 0 12px;
    color: var(--newspaper-text-light);
    font-weight: 300;
}

.footer-menu a {
    color: #2C2C2C;
    text-decoration: none;
    transition: color 0.3s ease;
}

.footer-menu a:hover {
    color: var(--newspaper-text);
}

.footer-social {
    text-align: center;
}

/* ============================================
   BOTTOM NAVIGATION (Mobile-First)
   ============================================ */
.bottom-navigation {
    display: none; /* Hidden on desktop by default */
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #FFFFFF;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    z-index: 999;
    padding: 8px 0 max(8px, env(safe-area-inset-bottom));
    /* Safe area support for iOS notch */
    padding-bottom: calc(8px + env(safe-area-inset-bottom));
}

.bottom-navigation {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    max-width: 100%;
    margin: 0 auto;
}

.bottom-nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 6px 4px 8px;
    text-decoration: none;
    color: #9AA0A6;
    transition: all 0.2s ease;
    min-height: 44px; /* Touch-friendly minimum */
    position: relative;
    -webkit-tap-highlight-color: transparent;
}

.bottom-nav-item:active {
    transform: scale(0.95);
    opacity: 0.8;
}

.bottom-nav-icon {
    font-size: 22px;
    line-height: 1;
    margin-bottom: 4px;
    transition: all 0.2s ease;
    display: block;
}

.bottom-nav-label {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    font-size: 11px;
    font-weight: 500;
    line-height: 1.2;
    text-align: center;
    transition: all 0.2s ease;
    color: inherit;
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
}

/* Active state */
.bottom-nav-item.active {
    color: #228B22; /* Hay Day green */
}

.bottom-nav-item.active .bottom-nav-icon {
    transform: scale(1.1);
}

.bottom-nav-item.active .bottom-nav-label {
    font-weight: 600;
    color: #228B22;
}

/* Active indicator dot */
.bottom-nav-item.active::after {
    content: '';
    position: absolute;
    bottom: 2px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: #228B22;
    border-radius: 50%;
    transition: all 0.2s ease;
}

/* Center Button (Ä°lan Ver) */
.bottom-nav-center {
    flex: 0 0 auto;
    width: 64px;
    height: 64px;
    margin: -12px 8px 0;
    background: #F2C94C; /* Hay Day yellow */
    border-radius: 50%;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0;
    min-height: 64px;
    position: relative;
    z-index: 10;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.bottom-nav-center:active {
    transform: scale(0.92);
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.2);
}

.bottom-nav-center-icon {
    font-size: 28px;
    font-weight: 700;
    line-height: 1;
    color: #FFFFFF;
    margin-bottom: 2px;
    display: block;
}

.bottom-nav-center-label {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
    font-size: 10px;
    font-weight: 600;
    line-height: 1;
    color: #FFFFFF;
    text-align: center;
    display: block;
}

.bottom-nav-center.active {
    background: #E6B800; /* Darker yellow on active */
    box-shadow: 0px 6px 14px rgba(0, 0, 0, 0.3);
}

.bottom-nav-center.active::after {
    display: none; /* No dot for center button */
}

/* Desktop: Show bottom navigation (same as mobile) */
@media (min-width: 769px) {
    .bottom-navigation {
        display: flex;
        /* Slightly larger for desktop */
        padding: 12px 0;
        max-width: 600px;
        left: 0;
        right: 0;
        margin: 0 auto;
        transform: none;
        border-radius: 20px 20px 0 0;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
    }
    
    .bottom-nav-item {
        padding: 8px 6px 10px;
        min-height: 48px;
    }
    
    .bottom-nav-icon {
        font-size: 24px;
    }
    
    .bottom-nav-label {
        font-size: 12px;
        margin-top: 4px;
    }
    
    .bottom-nav-center {
        width: 64px;
        height: 64px;
        margin: -16px 8px 0;
        min-height: 64px;
    }
    
    .bottom-nav-center-icon {
        font-size: 32px;
    }
    
    .bottom-nav-center-label {
        font-size: 11px;
    }
    
    /* Add padding to body for desktop too */
    body {
        padding-bottom: 90px;
    }
    
    /* Ensure footer doesn't overlap */
    footer {
        margin-bottom: 90px;
    }
    
    /* Hover effects for desktop */
    .bottom-nav-item:hover {
        color: var(--farm-green);
        transform: translateY(-2px);
    }
    
    .bottom-nav-item:hover .bottom-nav-icon {
        transform: scale(1.1);
    }
    
    .bottom-nav-center:hover {
        background: linear-gradient(135deg, var(--farm-green) 0%, #2d5016 100%);
        box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        transform: translateY(-4px);
    }
    
    .bottom-nav-item.active::after {
        width: 6px;
        height: 6px;
    }
}

/* Mobile optimizations */
@media (max-width: 768px) {
    .bottom-navigation {
        display: flex;
    }
    
    /* Add padding to body to prevent content from being hidden behind nav */
    body {
        padding-bottom: 80px;
    }
    
    /* Ensure footer doesn't overlap */
    footer {
        margin-bottom: 80px;
    }
}

/* Small mobile devices (360-430px) */
@media (max-width: 430px) {
    .bottom-nav-icon {
        font-size: 20px;
    }
    
    .bottom-nav-label {
        font-size: 10px;
    }
    
    .bottom-nav-center {
        width: 56px;
        height: 56px;
        margin: -10px 4px 0;
        min-height: 56px;
    }
    
    .bottom-nav-center-icon {
        font-size: 24px;
    }
    
    .bottom-nav-center-label {
        font-size: 9px;
    }
}

/* Very small devices */
@media (max-width: 360px) {
    .bottom-nav-item {
        padding: 4px 2px 6px;
    }
    
    .bottom-nav-icon {
        font-size: 18px;
    }
    
    .bottom-nav-label {
        font-size: 9px;
    }
    
    .bottom-nav-center {
        width: 52px;
        height: 52px;
        margin: -8px 2px 0;
        min-height: 52px;
    }
    
    .bottom-nav-center-icon {
        font-size: 22px;
    }
    
    .bottom-nav-center-label {
        font-size: 8px;
    }
}

/* ============================================
   NEWSPAPER STYLE LISTING CARDS
   Hay Day newspaper-inspired design
   ============================================ */

/* CSS Variables for Newspaper Colors */
:root {
    --newspaper-bg: #FFF6D8;
    --newspaper-bg-alt: #FDF4CF;
    --newspaper-border: #C9B88A;
    --newspaper-text: #3E3E3E;
    --newspaper-text-light: #6B6B6B;
    --newspaper-divider: #D4C5A0;
    --newspaper-star-blue: #4A90E2;
    --newspaper-star-blue-dark: #357ABD;
}

/* Sticky Header: Hediye Ediyor / Hediye Ä°stiyor (Flush with Listings) */
.listing-feed-sticky-header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: var(--newspaper-bg);
    padding: 8px 16px;
    margin-bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0;
    border-bottom: 1px solid rgba(201, 184, 138, 0.4);
    border-radius: 0;
    position: relative;
}

/* Ensure sticky header doesn't conflict with bottom nav on mobile */
@media (max-width: 768px) {
    .listing-feed-sticky-header {
        top: 0;
        margin-bottom: 0;
        padding: 6px 12px;
    }
}

.sticky-header-column {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex: 1;
}

.sticky-header-left {
    padding-right: 8px;
}

.sticky-header-right {
    padding-left: 8px;
}

.sticky-header-icon {
    font-size: 16px;
    line-height: 1;
}

.sticky-header-divider {
    width: 1px;
    height: 18px;
    background: var(--newspaper-divider);
    opacity: 0.35;
    flex-shrink: 0;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1;
}

.sticky-header-label {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: var(--newspaper-text);
}

/* Unified Listing Block (Continuous Column) */
.listing-unified-block {
    display: block;
    text-decoration: none;
    position: relative;
    color: inherit;
    padding: 16px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    margin-bottom: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    -webkit-tap-highlight-color: transparent;
    transition: all 0.2s ease;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.listing-unified-block:active {
    transform: scale(0.98);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

.listing-unified-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    border-color: rgba(201, 184, 138, 0.6);
}

/* Meta Row: Blue Star + Farm Name + Time (Top, Left Aligned, Minimum Spacing) */
.listing-meta-row-unified {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: 0;
    margin-bottom: 12px;
    padding-top: 0;
    padding-bottom: 12px;
    background: transparent;
    border: none;
    border-bottom: 1px solid rgba(201, 184, 138, 0.3);
}

/* Old star styles removed - replaced by .hdh-level-badge */

.listing-meta-farm-name {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: var(--newspaper-text);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    line-height: 1.4;
    display: flex;
    align-items: center;
    max-width: 100%;
    flex-shrink: 1;
    min-width: 0;
}

.listing-meta-right {
    flex-shrink: 0;
}

.listing-meta-time {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 11px;
    color: var(--newspaper-text-light);
    font-weight: 500;
}

/* Listing Header/Footer: Split with Divider */
.listing-header-split {
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    padding: 12px 0;
    margin-top: 12px;
    margin-bottom: 0;
    border-top: 1px solid rgba(201, 184, 138, 0.3);
    border-bottom: none;
}

.listing-header-left,
.listing-header-right {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1;
    justify-content: center;
}

.listing-header-left {
    padding-right: 25%;
}

.listing-header-right {
    padding-left: 25%;
}

.listing-header-icon {
    font-size: 1.1rem;
    line-height: 1;
}

.listing-header-label {
    font-size: 0.95rem;
    font-weight: 700;
    color: var(--newspaper-text);
    letter-spacing: 0;
}

.listing-header-divider {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, rgba(201, 184, 138, 0.5) 0%, rgba(201, 184, 138, 0.3) 100%);
    transform: translateX(-50%);
    z-index: 1;
}

/* Two-Column Layout (Unified) */
.listing-content-columns-unified {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    padding: 0;
    position: relative;
}

.listing-column {
    flex: 1;
    min-width: 0;
}

.listing-column-divider {
    width: 2px;
    background: linear-gradient(to bottom, rgba(201, 184, 138, 0.5) 0%, rgba(201, 184, 138, 0.3) 100%);
    position: relative;
    z-index: 1;
    opacity: 0.4;
    flex-shrink: 0;
    align-self: stretch;
}

/* Items List */
.listing-items-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.listing-item-row {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 12px;
    color: var(--newspaper-text);
    line-height: 1.4;
}

.listing-item-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;
    flex-shrink: 0;
    border-radius: 3px;
}

.listing-item-name {
    flex: 0 1 auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    color: var(--newspaper-text);
    min-width: 0;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 12px;
}

.listing-item-quantity {
    font-weight: 600;
    color: var(--newspaper-text);
    flex-shrink: 0;
    font-size: 12px;
    margin-left: 2px;
}

/* Divider removed - using card borders instead */

.listing-item-empty {
    font-size: 11px;
    color: var(--newspaper-text-light);
    font-style: italic;
    text-align: center;
    padding: 4px 0;
}

/* Unified Newspaper Panel Layout - Grid (Yan Yana) */
.trade-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 24px;
    margin-bottom: 40px;
    width: 100%;
}

/* Fallback for older browsers that don't support grid */
@supports not (display: grid) {
    .trade-cards-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
    }
    
    .listing-unified-block {
        flex: 1 1 350px;
        min-width: 350px;
        max-width: 100%;
    }
}

/* Mobile Optimizations */
@media (max-width: 768px) {
    .listing-feed-sticky-header {
        padding: 6px 12px;
        margin-bottom: 0;
        gap: 0;
        border-radius: 0;
    }
    
    .trade-cards-grid {
        border-radius: 6px;
    }
    
    .sticky-header-column {
        flex: 1;
    }
    
    .sticky-header-left {
        padding-right: 6px;
    }
    
    .sticky-header-right {
        padding-left: 6px;
    }
    
    .sticky-header-label {
        font-size: 12px;
    }
    
    .sticky-header-icon {
        font-size: 14px;
    }
    
    .sticky-header-divider {
        height: 16px;
        opacity: 0.3;
    }
    
    .listing-unified-block {
        padding: 12px;
        margin-bottom: 0;
        border-bottom: none;
        border-radius: 10px;
    }
    
    .listing-meta-row-unified {
        margin-top: 0;
        margin-bottom: 10px;
        padding-top: 0;
        padding-bottom: 10px;
        gap: 5px;
    }
    
    .listing-header-split {
        margin-top: 10px;
        padding: 10px 0;
    }
    
    .hdh-level-badge {
        width: 40px;
        height: 40px;
        font-size: 1rem;
    }
    
    .listing-meta-farm-name {
        font-size: 12px;
    }
    
    .listing-meta-time {
        font-size: 10px;
    }
    
    .listing-content-columns-unified {
        gap: 10px;
    }
    
    .listing-header-split {
        padding: 10px 0;
        margin-bottom: 10px;
    }
    
    .listing-header-left {
        padding-right: 20%;
    }
    
    .listing-header-right {
        padding-left: 20%;
    }
    
    .listing-header-icon {
        font-size: 0.85rem;
    }
    
    .listing-header-label {
        font-size: 0.85rem;
    }
    
    .listing-column-divider {
        width: 2px;
        opacity: 0.4;
    }
    
    .listing-item-row {
        gap: 3px;
        font-size: 11px;
    }
    
    .listing-item-icon {
        width: 18px;
        height: 18px;
    }
    
    .listing-item-name {
        font-size: 11px;
    }
    
    .listing-item-quantity {
        font-size: 11px;
        margin-left: 1px;
    }
    
    .listing-divider-between {
        opacity: 0.25;
        margin: 0;
    }
    
    .trade-cards-grid {
        border-radius: 6px;
    }
}

/* Very small screens: Stack columns */
@media (max-width: 340px) {
    .listing-content-columns-unified {
        flex-direction: column;
        gap: 8px;
    }
    
    .listing-column-divider {
        width: 100%;
        height: 1px;
        margin: 4px 0;
    }
}

/* Desktop: Grid layout (yan yana) */
@media (min-width: 769px) {
    .trade-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 24px;
        max-width: 100%;
        margin: 0 auto;
    }
    
    .listing-unified-block {
        padding: 16px;
        border-bottom: none;
        border-radius: 12px;
        background: #FFF6D8;
        border: 2px solid rgba(201, 184, 138, 0.4);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: all 0.2s ease;
    }
    
    .listing-unified-block:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        border-color: rgba(201, 184, 138, 0.6);
    }
    
    .listing-content-columns-unified {
        gap: 16px;
    }
}

/* Single Listing Page - Newspaper Style Author Info */
.trade-author-info-header-newspaper {
    margin: 16px 0;
    padding: 16px;
    background: var(--newspaper-bg);
    border: 1px solid var(--newspaper-border);
    border-radius: 8px;
}

.author-info-newspaper {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.author-star-section {
    display: flex;
    align-items: center;
    gap: 12px;
}

.trust-star-large {
    font-size: 28px;
    color: var(--newspaper-star-blue);
    font-weight: 700;
    line-height: 1;
    text-shadow: 0 1px 3px rgba(74, 144, 226, 0.3);
    display: inline-block;
}

.author-name-newspaper {
    font-size: 16px;
    font-weight: 600;
    color: var(--newspaper-text);
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
}

.star-explanation {
    margin-top: 4px;
}

.star-explanation-text {
    font-size: 13px;
    color: var(--newspaper-text-light);
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.5;
    font-style: italic;
}

@media (max-width: 768px) {
    .trade-author-info-header-newspaper {
        padding: 12px;
        margin: 12px 0;
    }
    
    .trust-star-large {
        font-size: 24px;
    }
    
    .author-name-newspaper {
        font-size: 15px;
    }
    
    .star-explanation-text {
        font-size: 12px;
    }
}

@keyframes hdhFireworks {
    0%, 100% {
        opacity: 0.4;
        transform: scale(1);
    }
    50% {
        opacity: 0.8;
        transform: scale(1.1);
    }
}

/* ============================================
   HOMEPAGE: ACTION STARTER (MOBILE-FIRST)
   ============================================ */

/* Homepage Container */
.homepage-action-starter {
    min-height: 100vh;
    background: #FFF6D8;
    padding-bottom: 100px; /* Space for bottom nav */
}

/* 1. TOP SECTION - PRIMARY ACTION */
.homepage-hero {
    padding: 40px 20px 60px;
    text-align: center;
    background: #FFF6D8;
}

.homepage-headline {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 32px;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0 0 12px 0;
    line-height: 1.2;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}

.homepage-subtitle {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 14px;
    font-weight: 400;
    color: var(--newspaper-text-light);
    margin: 0 0 32px 0;
    opacity: 0.7;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}

.homepage-primary-cta {
    display: inline-block;
    background: var(--farm-green);
    color: #FFFFFF;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 18px;
    font-weight: 600;
    padding: 16px 48px;
    border-radius: 12px;
    text-decoration: none;
    box-shadow: 0 4px 12px rgba(116, 195, 101, 0.3);
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
}

.homepage-primary-cta:active {
    transform: scale(0.98);
    box-shadow: 0 2px 8px rgba(116, 195, 101, 0.4);
}

/* 2. MIDDLE SECTION - SOCIAL PROOF */
.homepage-recent-listings {
    padding: 40px 20px;
    background: #FFF6D8;
}

.homepage-section-title {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 16px;
    font-weight: 600;
    color: var(--newspaper-text);
    margin: 0 0 16px 0;
    text-align: center;
    opacity: 0.8;
}

/* 3. TRUST INDICATOR */
.homepage-trust-indicator {
    padding: 24px 20px;
    text-align: center;
    background: #FFF6D8;
}

.trust-indicator-text {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: var(--newspaper-text);
    margin: 0;
    opacity: 0.7;
}

/* 4. SECONDARY ACTION */
.homepage-secondary-action {
    padding: 40px 20px 60px;
    text-align: center;
    background: #FFF6D8;
}

.secondary-action-text {
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 14px;
    font-weight: 400;
    color: var(--newspaper-text);
    margin: 0 0 16px 0;
    opacity: 0.7;
}

.homepage-secondary-cta {
    display: inline-block;
    background: transparent;
    color: var(--farm-green);
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 16px;
    font-weight: 600;
    padding: 12px 32px;
    border: 2px solid var(--farm-green);
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
}

.homepage-secondary-cta:active {
    background: var(--farm-green);
    color: #FFFFFF;
    transform: scale(0.98);
}

/* Desktop Adjustments */
@media (min-width: 769px) {
    .homepage-hero {
        padding: 60px 20px 80px;
    }
    
    .homepage-headline {
        font-size: 42px;
    }
    
    .homepage-subtitle {
        font-size: 16px;
    }
    
    .homepage-primary-cta {
        font-size: 20px;
        padding: 18px 56px;
    }
    
    .homepage-recent-listings {
        padding: 60px 20px;
    }
    
    .homepage-section-title {
        font-size: 18px;
    }
}


/* ============================================
   PROFILE PAGE (STEP 1)
   ============================================ */
.profile-page-main { padding: 40px 20px 100px; background: #FFF6D8; min-height: calc(100vh - 200px); }
.profile-title { font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif; font-size: 28px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 20px 0; text-align: center; }
.profile-subtitle { font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif; font-size: 14px; color: var(--newspaper-text-light); margin: 0 0 30px 0; text-align: center; opacity: 0.7; }
.profile-logged-out { text-align: center; padding: 60px 20px; }
.btn-open-login { background: var(--farm-green); color: #FFFFFF; font-size: 16px; font-weight: 600; padding: 14px 32px; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.btn-open-login:active { transform: scale(0.98); background: var(--farm-green-dark); }
.profile-card { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
.profile-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid rgba(201, 184, 138, 0.3); }
.profile-name-section { flex: 1; min-width: 0; }
.profile-farm-name { 
    font-size: 20px; 
    font-weight: 700; 
    color: var(--newspaper-text); 
    margin: 0 0 4px 0; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}
.profile-hayday-username { 
    font-size: 14px; 
    color: var(--newspaper-text-light); 
    margin: 0; 
    opacity: 0.7; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}
.profile-trust-section { text-align: center; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid rgba(201, 184, 138, 0.3); }
.trust-star-large { font-size: 48px; color: var(--newspaper-star-blue); font-weight: 700; line-height: 1; margin-bottom: 8px; text-shadow: 0 1px 3px rgba(74, 144, 226, 0.4); }
.trust-explanation { font-size: 13px; color: var(--newspaper-text); margin: 0; opacity: 0.8; }
.profile-jeton-section { text-align: center; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid rgba(201, 184, 138, 0.3); }
.jeton-display { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.jeton-icon { font-size: 40px; line-height: 1; }
.jeton-balance { font-size: 32px; font-weight: 700; color: var(--newspaper-text); line-height: 1; }
.jeton-label { font-size: 14px; color: var(--newspaper-text-light); opacity: 0.7; }
.profile-actions { text-align: center; }
.btn-edit-profile { background: transparent; color: var(--farm-green); font-size: 15px; font-weight: 600; padding: 12px 24px; border: 2px solid var(--farm-green); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.btn-edit-profile:active { background: var(--farm-green); color: #FFFFFF; transform: scale(0.98); }
.profile-edit-form { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
.edit-form-title { font-size: 20px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 20px 0; }
.profile-edit-form .form-field { margin-bottom: 20px; }
.profile-edit-form label { display: block; font-size: 14px; font-weight: 600; color: var(--newspaper-text); margin-bottom: 8px; }
.profile-edit-form .form-input { width: 100%; padding: 12px; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 8px; font-size: 15px; background: #FFFFFF; color: var(--newspaper-text); box-sizing: border-box; }
.profile-edit-form .form-input:focus { outline: none; border-color: var(--farm-green); }
.profile-edit-form .form-actions { display: flex; gap: 12px; margin-top: 24px; }
.btn-save-profile { flex: 1; background: var(--farm-green); color: #FFFFFF; font-size: 15px; font-weight: 600; padding: 12px 24px; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.btn-save-profile:active { background: var(--farm-green-dark); transform: scale(0.98); }
.btn-cancel-edit { flex: 1; background: transparent; color: var(--newspaper-text); font-size: 15px; font-weight: 600; padding: 12px 24px; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.btn-cancel-edit:active { background: rgba(201, 184, 138, 0.1); transform: scale(0.98); }

/* My Listings Section */
.my-listings-section { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
.my-listings-title { font-size: 20px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 20px 0; }
.my-listings-list { display: flex; flex-direction: column; gap: 16px; }
.my-listing-item { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.3); border-radius: 10px; padding: 16px; display: flex; justify-content: space-between; align-items: center; gap: 16px; transition: all 0.2s ease; }
.my-listing-item.listing-inactive { opacity: 0.6; background: rgba(201, 184, 138, 0.05); }
.listing-info { flex: 1; min-width: 0; }
.listing-title { font-size: 16px; font-weight: 600; color: var(--newspaper-text); margin: 0; }
.listing-title a { color: var(--newspaper-text); text-decoration: none; }
.listing-title a:hover { color: var(--farm-green); text-decoration: underline; }
.listing-meta { display: none; }
.listing-wanted { font-weight: 600; color: var(--farm-green-dark); }
.listing-date { opacity: 0.7; }
.listing-actions { display: flex; flex-direction: column; align-items: flex-end; gap: 8px; flex-shrink: 0; }
.listing-status { font-size: 13px; font-weight: 600; padding: 6px 12px; border-radius: 6px; white-space: nowrap; }
.listing-status.status-active { background: rgba(76, 175, 80, 0.1); color: var(--farm-green-dark); }
.listing-status.status-inactive { background: rgba(201, 184, 138, 0.1); color: var(--newspaper-text-light); }
.btn-deactivate-listing { background: transparent; color: var(--newspaper-text); font-size: 13px; font-weight: 600; padding: 6px 12px; border: 1px solid rgba(201, 184, 138, 0.4); border-radius: 6px; cursor: pointer; transition: all 0.2s ease; white-space: nowrap; }
.btn-deactivate-listing:hover { background: rgba(201, 184, 138, 0.1); border-color: rgba(201, 184, 138, 0.6); }
.btn-deactivate-listing:disabled { opacity: 0.5; cursor: not-allowed; }
.no-listings-message { text-align: center; padding: 40px 20px; color: var(--newspaper-text-light); }
.no-listings-message p { margin: 0 0 16px 0; font-size: 15px; }

/* Profile page specific create listing button - matches other profile buttons */
.my-listings-section .btn-create-listing-profile,
.btn-create-listing-profile {
    display: inline-block;
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 15px;
    font-weight: 600;
    padding: 12px 24px;
    border: none;
    border-radius: 10px;
    text-decoration: none;
    text-align: center;
    transition: all 0.2s ease;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.btn-create-listing-profile:hover {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
}

.btn-create-listing-profile:active {
    transform: scale(0.98);
}

/* General create listing button (for other pages) */
.btn-create-listing { 
    display: inline-block; 
    background: var(--farm-green); 
    color: #FFFFFF; 
    font-size: 15px; 
    font-weight: 600; 
    padding: 12px 24px; 
    border-radius: 10px; 
    text-decoration: none; 
    transition: all 0.2s ease; 
}

.btn-create-listing:hover { 
    background: var(--farm-green-dark); 
    transform: translateY(-2px); 
}

/* Profile Toast Notifications */
.profile-toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--newspaper-text); color: #FFFFFF; padding: 14px 24px; border-radius: 10px; font-size: 14px; font-weight: 600; z-index: 10000; opacity: 0; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); max-width: 90%; text-align: center; }
.profile-toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
.profile-toast.profile-toast-success { background: var(--farm-green); }
.profile-toast.profile-toast-error { background: #FF6347; }

/* Profile Stats */
.profile-stats { display: flex; gap: 16px; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid rgba(201, 184, 138, 0.3); }
.profile-stat-item { flex: 1; display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(201, 184, 138, 0.08); border-radius: 10px; }
.stat-icon { font-size: 32px; line-height: 1; }
.stat-content { flex: 1; }
.stat-value { font-size: 24px; font-weight: 700; color: var(--newspaper-text); line-height: 1; margin-bottom: 4px; }
.stat-label { font-size: 12px; color: var(--newspaper-text-light); opacity: 0.7; }

/* Profile Actions */
.profile-actions { display: flex; gap: 12px; }
.btn-logout { flex: 1; background: transparent; color: var(--newspaper-text); font-size: 15px; font-weight: 600; padding: 12px 24px; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 10px; text-decoration: none; display: inline-block; text-align: center; transition: all 0.2s ease; }
.btn-logout:hover { background: rgba(201, 184, 138, 0.1); border-color: rgba(201, 184, 138, 0.6); color: var(--newspaper-text); }

/* ============================================
   EMAIL VERIFICATION
   ============================================ */
.email-verification-card {
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.verification-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid rgba(201, 184, 138, 0.3);
}

.verification-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0;
}

.verification-badge {
    display: inline-block;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    white-space: nowrap;
}

.verification-badge.verified {
    background: rgba(76, 175, 80, 0.1);
    color: var(--farm-green-dark);
}

.verification-badge.not-verified {
    background: rgba(201, 184, 138, 0.1);
    color: var(--newspaper-text-light);
}

.verification-content {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.verification-email {
    font-size: 14px;
    color: var(--newspaper-text);
    margin: 0;
}

.verification-email strong {
    color: var(--newspaper-text);
    font-weight: 600;
}

.verification-actions {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.btn-send-verification-code {
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 15px;
    font-weight: 600;
    padding: 12px 24px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
}

.btn-send-verification-code:hover:not(:disabled) {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
}

.btn-send-verification-code:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.verification-code-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px;
    background: rgba(201, 184, 138, 0.05);
    border-radius: 8px;
}

.verification-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--newspaper-text);
    margin: 0;
}

.verification-input-group {
    display: flex;
    gap: 12px;
    align-items: stretch;
}

.verification-code-input {
    flex: 1;
    padding: 12px 16px;
    font-size: 18px;
    font-weight: 700;
    text-align: center;
    letter-spacing: 4px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 8px;
    background: #FFFFFF;
    color: var(--newspaper-text);
    transition: all 0.2s ease;
}

.verification-code-input:focus {
    outline: none;
    border-color: var(--farm-green);
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.verification-code-input::placeholder {
    color: rgba(0, 0, 0, 0.3);
    letter-spacing: 2px;
}

.btn-verify-code {
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 15px;
    font-weight: 600;
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.btn-verify-code:hover:not(:disabled) {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
}

.btn-verify-code:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.verification-help {
    font-size: 12px;
    color: var(--newspaper-text-light);
    opacity: 0.7;
    margin: 0;
}

.verification-message {
    display: none;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    margin: 0;
}

.verification-message.verification-success {
    background: rgba(76, 175, 80, 0.1);
    color: var(--farm-green-dark);
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.verification-message.verification-error {
    background: rgba(255, 99, 71, 0.1);
    color: #FF6347;
    border: 1px solid rgba(255, 99, 71, 0.3);
}

.verification-success {
    font-size: 14px;
    color: var(--farm-green-dark);
    margin: 0;
    padding: 12px;
    background: rgba(76, 175, 80, 0.1);
    border-radius: 8px;
    border: 1px solid rgba(76, 175, 80, 0.3);
}

.verification-success strong {
    color: var(--farm-green-dark);
}

.btn-check-verification {
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 15px;
    font-weight: 600;
    padding: 12px 24px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    margin-top: 12px;
}

.btn-check-verification:hover:not(:disabled) {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
}

.btn-check-verification:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

#firebase-recaptcha-container {
    margin: 16px 0;
    display: flex;
    justify-content: center;
}

@media (max-width: 768px) {
    .verification-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .verification-input-group {
        flex-direction: column;
    }
    
    .btn-verify-code {
        width: 100%;
    }
}

/* ============================================
   DECORATIONS PAGE (STEP 6)
   ============================================ */
/* ============================================
   TREASURE PAGE (HAZINE) - Level 10 Required
   ============================================ */

.treasure-page-main {
    padding: 40px 20px 100px;
    background: #FFF6D8;
    min-height: calc(100vh - 200px);
}

.treasure-locked-screen {
    max-width: 600px;
    margin: 60px auto;
    text-align: center;
    padding: 60px 40px;
    background: linear-gradient(135deg, rgba(255, 246, 216, 0.98) 0%, rgba(255, 250, 240, 0.98) 100%);
    border: 3px solid rgba(201, 184, 138, 0.5);
    border-radius: 24px;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.12),
        0 4px 16px rgba(201, 184, 138, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    animation: treasureFadeIn 0.6s ease-out;
}

@keyframes treasureFadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.treasure-locked-icon {
    font-size: 80px;
    margin-bottom: 24px;
    display: block;
    animation: treasurePulse 2s ease-in-out infinite;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
}

.treasure-sparkle {
    animation: treasureSparkle 2s ease-in-out infinite;
}

@keyframes treasurePulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

@keyframes treasureSparkle {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
    }
    25% {
        transform: scale(1.15) rotate(-5deg);
        filter: drop-shadow(0 6px 16px rgba(255, 215, 0, 0.4));
    }
    50% {
        transform: scale(1.1) rotate(0deg);
        filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
    }
    75% {
        transform: scale(1.15) rotate(5deg);
        filter: drop-shadow(0 6px 16px rgba(255, 215, 0, 0.4));
    }
}

.treasure-locked-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 36px;
    font-weight: 800;
    color: var(--newspaper-text);
    margin: 0 0 16px 0;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.treasure-level-locked .treasure-locked-title {
    background: linear-gradient(135deg, var(--wood-brown-dark) 0%, var(--farm-green-dark) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.treasure-locked-description {
    font-size: 18px;
    color: var(--newspaper-text);
    line-height: 1.6;
    margin: 0 0 32px 0;
    opacity: 0.9;
}

.treasure-level-info {
    display: flex;
    justify-content: center;
    gap: 32px;
    margin: 32px 0;
    flex-wrap: wrap;
}

.treasure-current-level,
.treasure-required-level {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 20px 32px;
    background: rgba(255, 255, 255, 0.6);
    border: 2px solid rgba(201, 184, 138, 0.3);
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.treasure-level-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--newspaper-text);
    opacity: 0.7;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.treasure-level-value {
    font-family: 'Baloo 2', sans-serif;
    font-size: 48px;
    font-weight: 900;
    color: var(--farm-green);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.treasure-level-value.treasure-required {
    color: var(--wood-brown-dark);
    position: relative;
}

.treasure-level-value.treasure-required::after {
    content: 'â­';
    position: absolute;
    top: -8px;
    right: -20px;
    font-size: 24px;
    animation: treasureStar 1.5s ease-in-out infinite;
}

@keyframes treasureStar {
    0%, 100% {
        transform: scale(1) rotate(0deg);
    }
    50% {
        transform: scale(1.3) rotate(180deg);
    }
}

.treasure-progress-text {
    display: inline-block;
    font-size: 20px;
    font-weight: 700;
    color: var(--farm-green-dark);
    margin-top: 16px;
    padding: 12px 24px;
    background: rgba(76, 175, 80, 0.1);
    border: 2px solid rgba(76, 175, 80, 0.3);
    border-radius: 12px;
}

.treasure-actions {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-top: 40px;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.btn-treasure-login,
.btn-treasure-action {
    display: inline-block;
    padding: 16px 32px;
    font-size: 18px;
    font-weight: 700;
    color: #FFFFFF;
    background: linear-gradient(135deg, var(--farm-green) 0%, var(--farm-green-dark) 100%);
    border: 2px solid var(--farm-green-dark);
    border-radius: 12px;
    text-decoration: none;
    box-shadow: 
        0 4px 12px rgba(76, 175, 80, 0.3),
        0 2px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    text-align: center;
}

.btn-treasure-login:hover,
.btn-treasure-action:hover {
    transform: translateY(-2px);
    box-shadow: 
        0 6px 16px rgba(76, 175, 80, 0.4),
        0 4px 8px rgba(0, 0, 0, 0.15);
    background: linear-gradient(135deg, var(--farm-green-dark) 0%, var(--farm-green) 100%);
}

.btn-treasure-login:active,
.btn-treasure-action:active {
    transform: translateY(0);
    box-shadow: 
        0 2px 8px rgba(76, 175, 80, 0.3),
        0 1px 4px rgba(0, 0, 0, 0.1);
}

.treasure-hint {
    margin-top: 40px;
    padding: 20px;
    background: rgba(255, 215, 0, 0.1);
    border: 2px solid rgba(255, 215, 0, 0.3);
    border-radius: 12px;
}

.treasure-hint-text {
    font-size: 16px;
    color: var(--newspaper-text);
    line-height: 1.6;
    margin: 0;
}

/* Unlocked Treasure Screen */
.treasure-unlocked-screen {
    max-width: 800px;
    margin: 60px auto;
    text-align: center;
    padding: 60px 40px;
    background: linear-gradient(135deg, rgba(255, 246, 216, 0.98) 0%, rgba(255, 250, 240, 0.98) 100%);
    border: 3px solid rgba(201, 184, 138, 0.5);
    border-radius: 24px;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.12),
        0 4px 16px rgba(201, 184, 138, 0.2);
}

.treasure-header {
    margin-bottom: 40px;
}

.treasure-icon-large {
    font-size: 100px;
    margin-bottom: 24px;
    display: block;
    animation: treasurePulse 2s ease-in-out infinite;
    filter: drop-shadow(0 6px 20px rgba(255, 215, 0, 0.4));
}

.treasure-title {
    font-family: 'Baloo 2', sans-serif;
    font-size: 42px;
    font-weight: 800;
    color: var(--newspaper-text);
    margin: 0 0 12px 0;
    background: linear-gradient(135deg, var(--wood-brown-dark) 0%, var(--farm-green-dark) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.treasure-subtitle {
    font-size: 20px;
    color: var(--newspaper-text);
    opacity: 0.8;
    margin: 0;
}

.treasure-content-placeholder {
    padding: 40px;
    background: rgba(255, 255, 255, 0.5);
    border: 2px dashed rgba(201, 184, 138, 0.4);
    border-radius: 16px;
}

.treasure-placeholder-text {
    font-size: 18px;
    color: var(--newspaper-text);
    line-height: 1.8;
    margin: 0;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .treasure-locked-screen,
    .treasure-unlocked-screen {
        padding: 40px 24px;
        margin: 40px auto;
    }
    
    .treasure-locked-icon,
    .treasure-icon-large {
        font-size: 60px;
    }
    
    .treasure-locked-title,
    .treasure-title {
        font-size: 28px;
    }
    
    .treasure-locked-description {
        font-size: 16px;
    }
    
    .treasure-level-info {
        flex-direction: column;
        gap: 16px;
    }
    
    .treasure-current-level,
    .treasure-required-level {
        padding: 16px 24px;
    }
    
    .treasure-level-value {
        font-size: 36px;
    }
    
    .treasure-actions {
        max-width: 100%;
    }
    
    .btn-treasure-login,
    .btn-treasure-action {
        padding: 14px 24px;
        font-size: 16px;
    }
}

/* Old decorations styles (kept for backward compatibility) */
.decorations-page-main { padding: 40px 20px 100px; background: #FFF6D8; min-height: calc(100vh - 200px); }
.decorations-page-title { font-size: 28px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 12px 0; text-align: center; }
.decorations-page-subtitle { font-size: 14px; color: var(--newspaper-text-light); margin: 0 0 32px 0; text-align: center; opacity: 0.7; }
.decorations-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 24px; margin-bottom: 40px; }
.decoration-card { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; overflow: hidden; transition: all 0.2s ease; }
.decoration-card:active { transform: scale(0.98); border-color: rgba(201, 184, 138, 0.6); }
.decoration-image-wrapper { width: 100%; height: 200px; background: rgba(201, 184, 138, 0.1); display: flex; align-items: center; justify-content: center; overflow: hidden; }
.decoration-image { width: 100%; height: 100%; object-fit: cover; }
.decoration-placeholder { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(201, 184, 138, 0.1); }
.placeholder-icon { font-size: 64px; opacity: 0.5; }
.decoration-content { padding: 20px; }
.decoration-name { font-size: 18px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 8px 0; }
.decoration-description { font-size: 13px; color: var(--newspaper-text-light); margin: 0 0 16px 0; opacity: 0.7; }
.btn-get-decoration { display: block; background: var(--farm-green); color: #FFFFFF; font-size: 15px; font-weight: 600; padding: 12px 24px; border-radius: 10px; text-decoration: none; text-align: center; transition: all 0.2s ease; }
.btn-get-decoration:active { background: var(--farm-green-dark); transform: scale(0.98); }
.no-decorations-message { text-align: center; padding: 60px 20px; color: var(--newspaper-text-light); }

/* ============================================
   LOTTERY PAGE (STEP 4)
   ============================================ */
.lottery-page-main { padding: 40px 20px 100px; background: #FFF6D8; min-height: calc(100vh - 200px); }
.lottery-page-title { font-size: 28px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 24px 0; text-align: center; }
.lottery-balance-section { margin-bottom: 32px; }
.jeton-balance-display { display: flex; align-items: center; justify-content: center; gap: 16px; padding: 20px; background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; }
.jeton-icon-large { font-size: 48px; line-height: 1; }
.jeton-balance-info { display: flex; flex-direction: column; gap: 4px; }
.jeton-balance-amount { font-size: 32px; font-weight: 700; color: var(--newspaper-text); line-height: 1; }
.jeton-balance-label { font-size: 13px; color: var(--newspaper-text-light); opacity: 0.7; }
.lottery-login-prompt { text-align: center; padding: 40px 20px; }
.btn-login-for-lottery { display: inline-block; background: var(--farm-green); color: #FFFFFF; font-size: 16px; font-weight: 600; padding: 14px 32px; border-radius: 10px; text-decoration: none; transition: all 0.2s ease; }
.btn-login-for-lottery:active { background: var(--farm-green-dark); transform: scale(0.98); }
.lottery-countdown-section { margin-bottom: 32px; text-align: center; padding: 24px; background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; }
.countdown-title { font-size: 18px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 16px 0; }
.countdown-display { display: flex; justify-content: center; gap: 16px; margin-bottom: 12px; }
.countdown-item { display: flex; flex-direction: column; align-items: center; }
.countdown-value { font-size: 36px; font-weight: 700; color: var(--newspaper-text); line-height: 1; }
.countdown-label { font-size: 12px; color: var(--newspaper-text-light); margin-top: 4px; opacity: 0.7; }
.countdown-target { font-size: 13px; color: var(--newspaper-text-light); margin: 0; opacity: 0.7; }
.lottery-card { background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; padding: 24px; margin-bottom: 20px; }
.lottery-header { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 16px; 
    gap: 12px;
    min-width: 0;
}
.lottery-name { 
    font-size: 18px; 
    font-weight: 700; 
    color: var(--newspaper-text); 
    margin: 0; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}
.lottery-cost { 
    font-size: 14px; 
    font-weight: 600; 
    color: var(--farm-green); 
    white-space: nowrap;
    flex-shrink: 0;
}
.lottery-info { 
    margin-bottom: 16px; 
    min-width: 0;
}
.lottery-description { 
    font-size: 14px; 
    color: var(--newspaper-text); 
    margin: 0 0 8px 0; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}
.lottery-entries-info { 
    font-size: 13px; 
    color: var(--newspaper-text-light); 
    margin: 0; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}
.btn-join-lottery { width: 100%; background: var(--farm-green); color: #FFFFFF; font-size: 16px; font-weight: 600; padding: 14px 24px; border: none; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.btn-join-lottery:active:not(:disabled) { background: var(--farm-green-dark); transform: scale(0.98); }
.btn-join-lottery:disabled, .btn-join-lottery.disabled { opacity: 0.5; cursor: not-allowed; }

/* ============================================
   TASKS PANEL (STEP 5)
   ============================================ */
/* ============================================
   TASKS PANEL (Toggleable)
   ============================================ */

/* Tasks Icon Toggle Button (Fixed Position) */
.tasks-icon-fixed {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--farm-green) 0%, var(--farm-green-dark) 100%);
    color: #FFFFFF;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 12px rgba(116, 195, 101, 0.4);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    transition: all 0.3s ease;
    pointer-events: auto;
    -webkit-tap-highlight-color: rgba(116, 195, 101, 0.3);
    touch-action: manipulation;
    overflow: visible;
    max-width: 56px;
    max-height: 56px;
    box-sizing: border-box;
}

/* Desktop: Ensure visibility above bottom navigation */
@media (min-width: 769px) {
    .tasks-icon-fixed {
        bottom: 110px;
        right: 24px;
        width: 60px;
        height: 60px;
        max-width: 60px;
        max-height: 60px;
        z-index: 999;
    }
    
    .tasks-icon-emoji {
        font-size: 2rem;
    }
    
    .tasks-panel {
        bottom: 110px;
        right: 24px;
        left: auto;
        width: 400px;
        max-width: calc(100vw - 48px);
        max-height: 650px;
    }
}

.tasks-icon-fixed:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(116, 195, 101, 0.5);
}

.tasks-icon-emoji {
    font-size: 1.8rem;
    line-height: 1;
}

.tasks-icon-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: var(--warm-orange);
    color: #FFFFFF;
    border-radius: 50%;
    width: 22px;
    height: 22px;
    font-size: 0.7rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #FFFFFF;
    box-shadow: 0 2px 6px rgba(232, 111, 51, 0.4);
}

/* Tasks Panel Overlay */
.tasks-panel-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

.tasks-panel-overlay.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

/* Tasks Panel */
.tasks-panel {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 360px;
    max-width: calc(100vw - 40px);
    max-height: 600px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    z-index: 1001;
    display: none;
    overflow: hidden;
    flex-direction: column;
    transform: translateY(20px);
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
    box-sizing: border-box;
}

.tasks-panel.active {
    display: flex;
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.tasks-panel-header {
    padding: 16px 20px;
    border-bottom: 2px solid rgba(201, 184, 138, 0.3);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(201, 184, 138, 0.1);
}

.tasks-panel-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0;
    font-family: 'Baloo 2', 'Poppins', sans-serif;
}

.tasks-panel-close {
    background: none;
    border: none;
    font-size: 1.8rem;
    color: var(--newspaper-text);
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    transition: all 0.2s ease;
    border-radius: 6px;
}

.tasks-panel-close:hover {
    background: rgba(201, 184, 138, 0.2);
    transform: scale(1.1);
}

.tasks-panel-content {
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    flex: 1;
    min-height: 0;
    max-height: 100%;
    -webkit-overflow-scrolling: touch;
}

.tasks-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.task-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px;
    background: #FFFFFF;
    border: 2px solid rgba(201, 184, 138, 0.3);
    border-radius: 12px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
    box-sizing: border-box;
}

.task-item:hover {
    border-color: rgba(201, 184, 138, 0.5);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
}

.task-item.task-completed {
    opacity: 0.7;
    background: rgba(116, 195, 101, 0.15);
    border-color: var(--farm-green);
}

.task-info {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    flex: 1;
}

.task-icon {
    font-size: 28px;
    line-height: 1;
    flex-shrink: 0;
}

.task-details {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
    min-width: 0;
    max-width: 100%;
    overflow: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
}

.task-name {
    font-size: 16px;
    font-weight: 700;
    color: var(--newspaper-text);
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
    display: flex;
    align-items: center;
    gap: 6px;
    flex-wrap: wrap;
}

.task-progress {
    font-size: 14px;
    font-weight: 600;
    color: rgba(44, 44, 44, 0.6);
    white-space: nowrap;
}

.task-description {
    font-size: 13px;
    color: rgba(44, 44, 44, 0.7);
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    max-width: 100%;
}

.task-reward {
    font-size: 13px;
    color: var(--farm-green);
    font-weight: 700;
    margin-top: 2px;
}

.btn-claim-daily, 
.btn-do-task,
.btn-claim-task {
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 14px;
    font-weight: 700;
    padding: 10px 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease;
    white-space: nowrap;
    flex-shrink: 0;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    box-sizing: border-box;
    display: inline-block;
}

.btn-claim-daily:hover,
.btn-do-task:hover,
.btn-claim-task:hover {
    background: var(--farm-green-dark);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.btn-claim-daily:active, 
.btn-do-task:active,
.btn-claim-task:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(76, 175, 80, 0.2);
}

.btn-claim-daily:disabled,
.btn-claim-task:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.task-status {
    font-size: 14px;
    color: var(--newspaper-text);
    font-weight: 600;
    white-space: nowrap;
    flex-shrink: 0;
}


.task-actions {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
}

.tasks-section {
    margin-bottom: 24px;
}

.tasks-section:last-child {
    margin-bottom: 0;
}

.tasks-section-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--newspaper-text);
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid rgba(201, 184, 138, 0.3);
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .tasks-icon-fixed {
        bottom: 90px;
        right: 16px;
        width: 52px;
        height: 52px;
        max-width: 52px;
        max-height: 52px;
        z-index: 1001;
        pointer-events: auto;
        touch-action: manipulation;
    }
    
    .tasks-icon-emoji {
        font-size: 1.6rem;
    }
    
    .tasks-panel {
        bottom: 90px;
        right: 16px;
        left: 16px;
        width: auto;
        max-width: calc(100vw - 32px);
        max-height: 70vh;
        z-index: 1002;
    }
    
    .tasks-panel-overlay {
        z-index: 1001;
    }
    
    .tasks-panel-header {
        padding: 14px 16px;
    }
    
    .tasks-panel-title {
        font-size: 1.2rem;
    }
    
    .tasks-panel-content {
        padding: 16px;
        max-height: calc(70vh - 60px);
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
    }
    
    .tasks-section-title {
        font-size: 1rem;
    }
    
    .task-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .task-info {
        width: 100%;
    }
    
    .btn-claim-daily,
    .btn-do-task,
    .task-status {
        width: 100%;
        text-align: center;
        justify-content: center;
    }
    
    .task-item {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
    }
    
    .task-info {
        width: 100%;
    }
    
    .task-actions {
        width: 100%;
        justify-content: center;
    }
    
    .btn-claim-task,
    .btn-do-task {
        width: 100%;
        max-width: 100%;
        padding: 12px 20px;
    }
    
    .task-name {
        white-space: normal;
        overflow: visible;
        text-overflow: clip;
    }
    
    .task-progress {
        display: inline-block;
        margin-left: 6px;
    }
}

/* ============================================
   TRADE OFFER / EXCHANGE FLOW (STEP 2)
   ============================================ */
.trade-actions-single { margin-top: 32px; display: flex; flex-direction: column; gap: 12px; }
.btn-create-offer, .btn-login-to-offer, .btn-complete-exchange { background: var(--farm-green); color: #FFFFFF; font-size: 16px; font-weight: 600; padding: 14px 24px; border: none; border-radius: 10px; cursor: pointer; text-decoration: none; text-align: center; transition: all 0.2s ease; }
.btn-create-offer:active, .btn-login-to-offer:active, .btn-complete-exchange:active { background: var(--farm-green-dark); transform: scale(0.98); }
.btn-create-offer:disabled { opacity: 0.6; cursor: not-allowed; }
.offer-status-message { background: rgba(116, 195, 101, 0.1); border: 2px solid var(--farm-green); border-radius: 10px; padding: 12px 16px; text-align: center; }
.offer-status-message p { font-size: 14px; color: var(--farm-green-dark); margin: 0; font-weight: 600; }
.listing-offers-section { margin-top: 32px; padding: 20px; background: #FFF6D8; border: 2px solid rgba(201, 184, 138, 0.4); border-radius: 12px; }
.offers-section-title { font-size: 18px; font-weight: 700; color: var(--newspaper-text); margin: 0 0 16px 0; }
.offers-list { display: flex; flex-direction: column; gap: 12px; }
.offer-item { background: #FFFFFF; border: 1px solid rgba(201, 184, 138, 0.3); border-radius: 8px; padding: 16px; }
.offerer-info { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap; }
.offerer-star { font-size: 20px; color: var(--newspaper-star-blue); font-weight: 700; line-height: 1; }
.offerer-name { font-size: 15px; font-weight: 600; color: var(--newspaper-text); flex: 1; }
.offer-status-badge { font-size: 12px; font-weight: 600; padding: 4px 8px; border-radius: 6px; }
.offer-status-badge.status-pending { background: rgba(255, 193, 7, 0.2); color: #856404; }
.offer-status-badge.status-accepted { background: rgba(116, 195, 101, 0.2); color: var(--farm-green-dark); }
.offer-status-badge.status-rejected { background: rgba(220, 53, 69, 0.2); color: #721c24; }
.offer-actions { display: flex; gap: 8px; }
.btn-accept-offer, .btn-reject-offer { flex: 1; font-size: 14px; font-weight: 600; padding: 10px 16px; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; }
.btn-accept-offer { background: var(--farm-green); color: #FFFFFF; }
.btn-accept-offer:active { background: var(--farm-green-dark); transform: scale(0.98); }
.btn-reject-offer { background: rgba(220, 53, 69, 0.1); color: #721c24; }
.btn-reject-offer:active { background: rgba(220, 53, 69, 0.2); transform: scale(0.98); }
.exchange-completion-section { margin-top: 24px; padding: 20px; background: rgba(116, 195, 101, 0.1); border: 2px solid var(--farm-green); border-radius: 12px; text-align: center; }
.completion-instruction { font-size: 14px; color: var(--newspaper-text); margin: 0 0 16px 0; }
.completion-status { font-size: 14px; color: var(--farm-green-dark); margin: 0; font-weight: 600; }

/* Mobile Optimizations */
@media (max-width: 768px) {
    .profile-page-main, .decorations-page-main, .lottery-page-main { padding: 30px 16px 100px; }
    .profile-title, .decorations-page-title, .lottery-page-title { font-size: 24px; }
    .profile-card, .tasks-panel, .lottery-card { padding: 20px; }
    .profile-header { gap: 12px; }
    .profile-farm-name { font-size: 18px; }
    .trust-star-large { font-size: 40px; }
    .jeton-icon, .jeton-icon-large { font-size: 36px; }
    .jeton-balance, .jeton-balance-amount { font-size: 28px; }
    .decorations-grid { grid-template-columns: 1fr; gap: 20px; }
    .decoration-image-wrapper { height: 180px; }
    .decoration-content { padding: 16px; }
    .decoration-name { font-size: 16px; }
    .btn-get-decoration { padding: 14px 24px; font-size: 16px; }
    .countdown-value { font-size: 32px; }
    .profile-edit-form .form-actions, .offer-actions { flex-direction: column; }
    .btn-save-profile, .btn-cancel-edit, .btn-accept-offer, .btn-reject-offer, .btn-create-listing-profile { width: 100%; }
    .my-listings-section { padding: 20px; }
    .my-listing-item { flex-direction: column; align-items: flex-start; padding: 14px; }
    .listing-actions { flex-direction: row; width: 100%; justify-content: space-between; align-items: center; }
    .profile-stats { flex-direction: column; }
    .profile-actions { flex-direction: column; }
    .no-listings-message { padding: 30px 16px; }
    .no-listings-message p { font-size: 14px; margin-bottom: 20px; }
}

/* ============================================
   OFFER FLOW (STEP 2)
   ============================================ */
.offers-section, .make-offer-section, .exchange-completion-section, .login-prompt-section {
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    padding: 24px;
    margin: 24px 0;
}

.offers-section-title, .make-offer-title, .completion-title, .login-prompt-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0 0 20px 0;
}

.offers-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.offer-card {
    background: #FFFFFF;
    border: 2px solid rgba(201, 184, 138, 0.3);
    border-radius: 10px;
    padding: 20px;
    transition: all 0.2s ease;
}

.offer-card:hover {
    border-color: rgba(201, 184, 138, 0.5);
}

.offer-status-accepted {
    border-left: 4px solid var(--farm-green);
}

.offer-status-rejected {
    border-left: 4px solid #DC143C;
    opacity: 0.7;
}

.offer-status-pending {
    border-left: 4px solid var(--hay-yellow);
}

.offer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.offer-user-info {
    display: flex;
    align-items: center;
    gap: 12px;
}

.offer-user-avatar {
    font-size: 32px;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(201, 184, 138, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
}

.offer-user-details {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.offer-user-name {
    font-size: 16px;
    font-weight: 700;
    color: var(--newspaper-text);
}

.offer-user-trust {
    font-size: 13px;
    color: var(--newspaper-text-light);
    opacity: 0.7;
}

.offer-status-badge {
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 600;
    white-space: nowrap;
}

.offer-badge-accepted {
    background: rgba(76, 175, 80, 0.1);
    color: var(--farm-green-dark);
}

.offer-badge-rejected {
    background: rgba(220, 20, 60, 0.1);
    color: #DC143C;
}

.offer-badge-pending {
    background: rgba(255, 193, 7, 0.1);
    color: #F57C00;
}

.offer-date {
    font-size: 13px;
    color: var(--newspaper-text-light);
    margin-bottom: 16px;
    opacity: 0.7;
}

.offer-actions {
    display: flex;
    gap: 12px;
    margin-top: 16px;
}

.btn-accept-offer, .btn-reject-offer, .btn-make-offer, .btn-confirm-exchange {
    flex: 1;
    padding: 12px 24px;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-accept-offer {
    background: var(--farm-green);
    color: #FFFFFF;
}

.btn-accept-offer:hover {
    background: var(--farm-green-dark);
}

.btn-accept-offer:active {
    transform: scale(0.98);
}

.btn-reject-offer {
    background: transparent;
    color: #DC143C;
    border: 2px solid #DC143C;
}

.btn-reject-offer:hover {
    background: rgba(220, 20, 60, 0.1);
}

.btn-reject-offer:active {
    transform: scale(0.98);
}

.btn-make-offer {
    background: var(--farm-green);
    color: #FFFFFF;
    width: 100%;
}

.btn-make-offer:hover {
    background: var(--farm-green-dark);
}

.btn-make-offer:active {
    transform: scale(0.98);
}

.btn-confirm-exchange {
    background: var(--farm-green);
    color: #FFFFFF;
    width: 100%;
}

.btn-confirm-exchange:hover {
    background: var(--farm-green-dark);
}

.btn-confirm-exchange:active {
    transform: scale(0.98);
}

.no-offers-message, .offer-already-made {
    text-align: center;
    padding: 32px 20px;
    color: var(--newspaper-text-light);
    opacity: 0.7;
}

.offer-explanation {
    background: rgba(201, 184, 138, 0.1);
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.offer-explanation p {
    margin: 0 0 8px 0;
    font-size: 14px;
    color: var(--newspaper-text);
}

.offer-explanation p:last-child {
    margin-bottom: 0;
}

.exchange-completion-section {
    background: rgba(76, 175, 80, 0.05);
    border-color: var(--farm-green);
}

.completion-explanation {
    font-size: 14px;
    color: var(--newspaper-text);
    margin: 0 0 20px 0;
}

.completion-status {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
}

.completion-party {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #FFFFFF;
    border-radius: 8px;
    border: 2px solid rgba(201, 184, 138, 0.3);
}

.completion-icon {
    font-size: 24px;
}

.completion-label {
    font-size: 15px;
    font-weight: 600;
    color: var(--newspaper-text);
}

.waiting-confirmation {
    text-align: center;
    padding: 16px;
    background: rgba(255, 193, 7, 0.1);
    border-radius: 8px;
    color: var(--newspaper-text);
    font-weight: 600;
    margin: 0;
}

.login-prompt-section {
    text-align: center;
}

.login-prompt-text {
    font-size: 14px;
    color: var(--newspaper-text-light);
    margin: 0 0 20px 0;
    opacity: 0.7;
}

.btn-open-login {
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 16px;
    font-weight: 600;
    padding: 14px 32px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-open-login:hover {
    background: var(--farm-green-dark);
}

.btn-open-login:active {
    transform: scale(0.98);
}

@media (max-width: 768px) {
    .offers-section, .make-offer-section, .exchange-completion-section, .login-prompt-section {
        padding: 20px;
    }
    
    .offer-card {
        padding: 16px;
    }
    
    .offer-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }
    
    .offer-status-badge {
        align-self: flex-start;
    }
    
    .offer-actions {
        flex-direction: column;
    }
    
    .btn-accept-offer, .btn-reject-offer {
        width: 100%;
    }
    
    .completion-status {
        gap: 8px;
    }
    
    .completion-party {
        padding: 10px;
    }
}

/* ============================================
   AUTH SCREEN (LOGIN/REGISTER) - MOBILE FIRST
   ============================================ */
.auth-screen {
    max-width: 480px;
    margin: 0 auto;
    padding: 20px 0;
}

.auth-header {
    text-align: center;
    margin-bottom: 32px;
}

.auth-title {
    font-size: 26px;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0 0 12px 0;
    line-height: 1.2;
}

.auth-subtitle {
    font-size: 15px;
    color: var(--newspaper-text-light);
    margin: 0;
    opacity: 0.8;
    line-height: 1.5;
}

/* Tab Switcher */
.auth-tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 24px;
    background: rgba(201, 184, 138, 0.15);
    padding: 4px;
    border-radius: 12px;
}

.auth-tab {
    flex: 1;
    padding: 12px 20px;
    background: transparent;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    color: var(--newspaper-text-light);
    cursor: pointer;
    transition: all 0.2s ease;
}

.auth-tab.active {
    background: #FFFFFF;
    color: var(--newspaper-text);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* Form Container */
.auth-form-container {
    display: none;
    background: #FFFFFF;
    border-radius: 16px;
    padding: 28px 24px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(201, 184, 138, 0.2);
}

.auth-form-container.active {
    display: block;
}

/* Messages */
.auth-message {
    padding: 14px 16px;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 14px;
    line-height: 1.5;
}

.auth-message.auth-error {
    background: #fff5f5;
    color: #dc3545;
    border: 2px solid #dc3545;
}

.auth-message.auth-success {
    background: rgba(76, 175, 80, 0.05);
    color: var(--farm-green-dark);
    border: 2px solid var(--farm-green);
}

.error-list {
    margin: 0;
    padding-left: 20px;
    list-style: none;
}

.error-list li {
    position: relative;
    padding-left: 24px;
    margin-bottom: 8px;
    line-height: 1.5;
}

.error-list li:last-child {
    margin-bottom: 0;
}

.error-list li::before {
    content: 'âš ï¸';
    position: absolute;
    left: 0;
    top: 0;
}

/* Form Fields */
.auth-field {
    margin-bottom: 20px;
    position: relative;
}

.auth-field.has-error .auth-input {
    border-color: #dc3545;
    background: #fff5f5;
}

.auth-field.has-error .auth-input:focus {
    border-color: #dc3545;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
}

.auth-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: var(--newspaper-text);
    margin-bottom: 8px;
}

.auth-input {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid rgba(201, 184, 138, 0.3);
    border-radius: 10px;
    font-size: 15px;
    color: var(--newspaper-text);
    background: #FFFFFF;
    box-sizing: border-box;
    transition: all 0.2s ease;
    min-height: 48px;
}

.auth-input:focus {
    outline: none;
    border-color: var(--farm-green);
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
}

.auth-input::placeholder {
    color: var(--newspaper-text-light);
    opacity: 0.5;
}

/* Field Error Message */
.field-error {
    display: flex;
    align-items: flex-start;
    gap: 6px;
    margin-top: 8px;
    padding: 8px 12px;
    background: #fff5f5;
    border: 1px solid #dc3545;
    border-radius: 8px;
    font-size: 13px;
    color: #dc3545;
    font-weight: 500;
    line-height: 1.4;
}

.field-error::before {
    content: 'âš ï¸';
    flex-shrink: 0;
}

/* Help Text */
.auth-help {
    display: block;
    margin-top: 6px;
    font-size: 13px;
    color: var(--newspaper-text-light);
    line-height: 1.4;
}

/* Password Strength Indicator */
.password-strength {
    margin-top: 8px;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 600;
    text-align: center;
    transition: all 0.3s ease;
}

.password-strength.weak {
    background: #fff5f5;
    color: #dc3545;
    border: 1px solid #dc3545;
}

.password-strength.medium {
    background: #fffbf0;
    color: #ffc107;
    border: 1px solid #ffc107;
}

.password-strength.strong {
    background: rgba(139, 195, 74, 0.05);
    color: var(--farm-green);
    border: 1px solid var(--farm-green);
}

/* Password Field with Toggle */
.auth-password-wrapper {
    position: relative;
}

.auth-password-wrapper .auth-input {
    padding-right: 50px;
}

.auth-password-toggle {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    padding: 8px;
    cursor: pointer;
    font-size: 20px;
    line-height: 1;
    opacity: 0.6;
    transition: opacity 0.2s ease;
}

.auth-password-toggle:hover {
    opacity: 1;
}

/* Help Text */
.auth-help {
    display: block;
    font-size: 13px;
    color: var(--newspaper-text-light);
    margin-top: 6px;
    opacity: 0.7;
}

.auth-tip {
    background: rgba(255, 193, 7, 0.08);
    padding: 12px;
    border-radius: 8px;
    font-size: 13px;
    color: var(--newspaper-text);
    margin-top: 8px;
    border: 1px solid rgba(255, 193, 7, 0.2);
}

.auth-tip strong {
    color: var(--farm-green-dark);
}

/* Checkbox Field */
.auth-field-checkbox {
    margin-bottom: 24px;
}

.auth-checkbox-label {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    cursor: pointer;
    font-size: 14px;
    line-height: 1.5;
}

.auth-checkbox-label input[type="checkbox"] {
    margin-top: 2px;
    width: 20px;
    height: 20px;
    cursor: pointer;
    flex-shrink: 0;
}

.auth-checkbox-label a {
    color: var(--farm-green-dark);
    text-decoration: underline;
}

.auth-checkbox-label a:hover {
    color: var(--farm-green);
}

/* Submit Button */
.auth-submit {
    width: 100%;
    padding: 16px 24px;
    background: var(--farm-green);
    color: #FFFFFF;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 52px;
}

.auth-submit:hover:not(:disabled) {
    background: var(--farm-green-dark);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.auth-submit:active:not(:disabled) {
    transform: translateY(0);
}

.auth-submit:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.required {
    color: #DC143C;
}

/* Profile Stats (Logged In) */
.profile-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin: 20px 0;
}

.profile-stat-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    background: rgba(201, 184, 138, 0.08);
    border-radius: 12px;
    border: 1px solid rgba(201, 184, 138, 0.2);
}

.stat-icon {
    font-size: 32px;
    line-height: 1;
}

.stat-content {
    flex: 1;
}

.stat-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--newspaper-text);
    line-height: 1;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 12px;
    color: var(--newspaper-text-light);
    opacity: 0.7;
}

/* Profile Actions */
.profile-actions {
    display: flex;
    gap: 12px;
    margin-top: 20px;
}

.btn-logout {
    flex: 1;
    padding: 12px 20px;
    background: transparent;
    color: var(--newspaper-text);
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 10px;
    font-size: 15px;
    font-weight: 600;
    text-decoration: none;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-logout:hover {
    background: rgba(220, 20, 60, 0.05);
    border-color: #DC143C;
    color: #DC143C;
}

/* Form Labels and Inputs (Logged In Edit) */
.form-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: var(--newspaper-text);
    margin-bottom: 8px;
}

.form-help {
    display: block;
    font-size: 13px;
    color: var(--newspaper-text-light);
    margin-top: 6px;
    opacity: 0.7;
}

/* Responsive Adjustments */
@media (max-width: 480px) {
    .auth-screen {
        padding: 16px 0;
    }
    
    .auth-title {
        font-size: 22px;
    }
    
    .auth-subtitle {
        font-size: 14px;
    }
    
    .auth-form-container {
        padding: 24px 20px;
    }
    
    .auth-tab {
        padding: 10px 16px;
        font-size: 14px;
    }
    
    .auth-input {
        padding: 12px 14px;
        font-size: 15px;
    }
    
    .auth-submit {
        padding: 14px 20px;
        font-size: 15px;
    }
    
    .profile-stats {
        grid-template-columns: 1fr;
    }
    
    .profile-actions {
        flex-direction: column;
    }
}

/* ============================================
   USER BADGE & TRUST STARS
   ============================================ */

/* Old user-level-badge styles removed - now using hdh-level-badge with cartoon/game HUD style */

.trust-stars {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    cursor: help;
}

.trust-stars.stars-small {
    font-size: 0.7rem;
}

.trust-stars.stars-medium {
    font-size: 0.85rem;
}

.trust-stars.stars-large {
    font-size: 1rem;
}

.trust-stars .star {
    display: inline-block;
    line-height: 1;
}

.trust-stars .star-full {
    opacity: 1;
}

.trust-stars .star-half {
    opacity: 0.6;
}

.trust-stars .star-empty {
    opacity: 0.3;
}

.trust-rating-text {
    font-size: 0.85em;
    color: var(--wood-brown);
    margin-left: 6px;
    font-weight: 600;
}

.user-badge-component {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.listing-meta-farm-name {
    gap: 6px;
}

.listing-meta-farm-name .hdh-level-badge,
.listing-meta-farm-name .trust-stars {
    flex-shrink: 0;
}

/* ============================================
   COOKIE CONSENT BANNER (SIMPLE)
   ============================================ */

.hdh-cookie-consent-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #FFF6D8;
    border-top: 2px solid rgba(201, 184, 138, 0.4);
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
    z-index: 10000;
    padding: 16px 20px;
}

.cookie-consent-content {
    max-width: 800px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    flex-wrap: wrap;
}

.cookie-consent-text {
    font-size: 0.95rem;
    color: var(--wood-brown);
    margin: 0;
    line-height: 1.5;
    flex: 1;
    min-width: 200px;
}

.cookie-consent-text a {
    color: var(--farm-green);
    text-decoration: underline;
}

.cookie-consent-actions {
    display: flex;
    gap: 12px;
    flex-shrink: 0;
}

.btn-cookie-accept,
.btn-cookie-reject {
    padding: 10px 20px;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
    min-height: 44px;
    min-width: 100px;
}

.btn-cookie-accept {
    background: var(--farm-green);
    color: #FFFFFF;
    border-color: var(--farm-green);
}

.btn-cookie-accept:hover {
    background: var(--farm-green-dark);
    border-color: var(--farm-green-dark);
}

.btn-cookie-reject {
    background: #FFF6D8;
    color: var(--wood-brown);
}

.btn-cookie-reject:hover {
    background: rgba(201, 184, 138, 0.15);
    border-color: rgba(201, 184, 138, 0.6);
}

@media (max-width: 768px) {
    .hdh-cookie-consent-banner {
        padding: 16px;
    }
    
    .cookie-consent-content {
        flex-direction: column;
        align-items: stretch;
    }
    
    .cookie-consent-actions {
        width: 100%;
    }
    
    .btn-cookie-accept,
    .btn-cookie-reject {
        flex: 1;
    }
}

/* ============================================
   LEVEL BADGE (CARTOON/GAME HUD STYLE)
   ============================================
   
   Usage in listing card markup:
   <div class="hdh-level-badge lvl-d2" aria-label="Seviye 88">88</div>
   
   Digit classes:
   - lvl-d1: Single digit (1-9)
   - lvl-d2: Two digits (10-99)
   - lvl-d3: Three digits (100+)
   
   Backend PHP example:
   $level_int = (int) $level;
   $digits = strlen((string)$level_int);
   $digit_class = $digits === 1 ? 'lvl-d1' : ($digits === 2 ? 'lvl-d2' : 'lvl-d3');
   */

.hdh-level-badge {
    width: 56px;
    height: 56px;
    background: url('../icons/level-star-original.svg') center/contain no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* Number style - bold cartoon HUD */
    font-weight: 900;
    font-family: Impact, Haettenschweiler, "Arial Black", system-ui, sans-serif;
    color: #FFFFFF;
    line-height: 1;
    
    /* Thick black outline (cartoon style) */
    -webkit-text-stroke: 4px #0b0b0b;
    paint-order: stroke fill;
    
    /* Drop shadow for depth */
    text-shadow:
        0 3px 0 rgba(0, 0, 0, 0.25),
        0 8px 12px rgba(0, 0, 0, 0.20);
    
    transform: translateY(-1px); /* Fine-tune vertical centering */
    
    flex-shrink: 0;
    cursor: help;
    user-select: none;
}

/* Font size based on digit count */
.hdh-level-badge.lvl-d1 {
    font-size: 28px;
}

.hdh-level-badge.lvl-d2 {
    font-size: 26px;
    letter-spacing: -1px;
}

.hdh-level-badge.lvl-d3 {
    font-size: 22px;
    letter-spacing: -2px;
}

/* Smaller size for listing cards */
.listing-meta-row-unified .hdh-level-badge {
    width: 48px;
    height: 48px;
}

.listing-meta-row-unified .hdh-level-badge.lvl-d1 {
    font-size: 24px;
}

.listing-meta-row-unified .hdh-level-badge.lvl-d2 {
    font-size: 22px;
    letter-spacing: -1px;
}

.listing-meta-row-unified .hdh-level-badge.lvl-d3 {
    font-size: 19px;
    letter-spacing: -2px;
}

/* Adjust stroke for smaller badges */
.listing-meta-row-unified .hdh-level-badge {
    -webkit-text-stroke: 3px #0b0b0b;
    text-shadow:
        0 2px 0 rgba(0, 0, 0, 0.25),
        0 6px 10px rgba(0, 0, 0, 0.18);
}

@media (max-width: 768px) {
    .hdh-level-badge {
        width: 44px;
        height: 44px;
    }
    
    .hdh-level-badge.lvl-d1 {
        font-size: 22px;
    }
    
    .hdh-level-badge.lvl-d2 {
        font-size: 20px;
    }
    
    .hdh-level-badge.lvl-d3 {
        font-size: 18px;
    }
    
    .hdh-level-badge {
        -webkit-text-stroke: 3px #0b0b0b;
        text-shadow:
            0 2px 0 rgba(0, 0, 0, 0.25),
            0 6px 10px rgba(0, 0, 0, 0.18);
    }
}

/* ============================================
   USER INFO WIDGET (FIXED BELOW HEADER)
   ============================================ */

.hdh-user-info-widget {
    position: fixed;
    top: 52px; /* Below announcement banner (12px padding * 2 + ~28px text height) */
    left: 16px;
    z-index: 9999; /* Below header (1000) but above content */
    display: flex;
    align-items: center;
    gap: 12px;
    background: linear-gradient(135deg, rgba(255, 246, 216, 0.98) 0%, rgba(255, 250, 240, 0.98) 100%);
    border: 2px solid rgba(201, 184, 138, 0.5);
    border-radius: 16px;
    padding: 10px 18px;
    box-shadow: 
        0 4px 16px rgba(0, 0, 0, 0.12),
        0 2px 8px rgba(201, 184, 138, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation: slideInFromTop 0.5s ease-out;
}

@keyframes slideInFromTop {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.hdh-user-info-widget:hover {
    box-shadow: 
        0 6px 20px rgba(0, 0, 0, 0.15),
        0 3px 10px rgba(201, 184, 138, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.9);
    transform: translateY(-2px);
    border-color: rgba(201, 184, 138, 0.7);
}

/* Add a subtle glow effect */
.hdh-user-info-widget::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(135deg, rgba(201, 184, 138, 0.1), rgba(255, 246, 216, 0.1));
    border-radius: 18px;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.hdh-user-info-widget:hover::before {
    opacity: 1;
}

.hdh-user-info-widget .hdh-level-badge {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
}

.hdh-user-info-widget .hdh-level-badge.lvl-d1 {
    font-size: 24px;
}

.hdh-user-info-widget .hdh-level-badge.lvl-d2 {
    font-size: 22px;
    letter-spacing: -1px;
}

.hdh-user-info-widget .hdh-level-badge.lvl-d3 {
    font-size: 19px;
    letter-spacing: -2px;
}

.hdh-user-info-widget .hdh-level-badge {
    -webkit-text-stroke: 3px #0b0b0b;
    text-shadow:
        0 2px 0 rgba(0, 0, 0, 0.25),
        0 6px 10px rgba(0, 0, 0, 0.18);
}

.hdh-farm-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
    flex: 1;
}

.hdh-farm-name {
    font-family: 'Baloo 2', -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-size: 16px;
    font-weight: 700;
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 200px;
    color: var(--newspaper-text);
    line-height: 1.4;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
    letter-spacing: 0.3px;
    position: relative;
}

.hdh-farm-name::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--farm-green), var(--wood-brown));
    transition: width 0.3s ease;
}

.hdh-user-info-widget:hover .hdh-farm-name::after {
    width: 100%;
}

.hdh-farm-stats {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 12px;
    line-height: 1.2;
}

.hdh-stat-item {
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--newspaper-text);
    opacity: 0.85;
}

.hdh-stat-emoji {
    font-size: 14px;
    line-height: 1;
    display: inline-block;
}

.hdh-stat-value {
    font-family: 'Baloo 2', -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Text', 'Segoe UI', 'Roboto', sans-serif;
    font-weight: 600;
    font-size: 12px;
    letter-spacing: 0.2px;
}

/* Adjust top position when announcement banner is hidden */
body:not(:has(.farm-announcement-banner)) .hdh-user-info-widget,
body:not([class*="announcement"]) .hdh-user-info-widget {
    top: 16px;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .hdh-user-info-widget {
        top: 48px; /* Slightly less on mobile */
        left: 12px;
        padding: 8px 14px;
        gap: 10px;
        border-radius: 14px;
    }
    
    body:not(:has(.farm-announcement-banner)) .hdh-user-info-widget,
    body:not([class*="announcement"]) .hdh-user-info-widget {
        top: 12px;
    }
    
    .hdh-user-info-widget .hdh-level-badge {
        width: 40px;
        height: 40px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d1 {
        font-size: 20px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d2 {
        font-size: 18px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d3 {
        font-size: 16px;
    }
    
    .hdh-farm-name {
        font-size: 14px;
        max-width: 150px;
    }
    
    .hdh-farm-stats {
        gap: 10px;
        font-size: 11px;
    }
    
    .hdh-stat-emoji {
        font-size: 12px;
    }
    
    .hdh-stat-value {
        font-size: 11px;
    }
}

/* Very small screens */
@media (max-width: 480px) {
    .hdh-user-info-widget {
        top: 44px; /* Adjusted for mobile */
        left: 8px;
        padding: 6px 12px;
        gap: 8px;
        border-radius: 12px;
    }
    
    body:not(:has(.farm-announcement-banner)) .hdh-user-info-widget,
    body:not([class*="announcement"]) .hdh-user-info-widget {
        top: 8px;
    }
    
    .hdh-user-info-widget .hdh-level-badge {
        width: 36px;
        height: 36px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d1 {
        font-size: 18px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d2 {
        font-size: 16px;
    }
    
    .hdh-user-info-widget .hdh-level-badge.lvl-d3 {
        font-size: 14px;
    }
    
    .hdh-farm-name {
        font-size: 13px;
        max-width: 120px;
    }
}

/* ============================================
   HOMEPAGE CTA BUTTONS (IN HERO SECTION)
   ============================================ */

.homepage-hero .homepage-cta-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    align-items: center;
    margin-top: 32px;
    flex-wrap: wrap;
}

.homepage-primary-cta.homepage-cta-search,
.homepage-primary-cta.homepage-cta-create {
    display: inline-block;
    background: var(--farm-green);
    color: #FFFFFF;
    font-size: 16px;
    font-weight: 600;
    padding: 14px 32px;
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: transparent;
    border: none;
    text-align: center;
}

.homepage-primary-cta.homepage-cta-search:hover,
.homepage-primary-cta.homepage-cta-create:hover {
    background: var(--farm-green-dark);
    transform: translateY(-2px);
}

.homepage-primary-cta.homepage-cta-search:active,
.homepage-primary-cta.homepage-cta-create:active {
    background: var(--farm-green-dark);
    transform: scale(0.98);
}

@media (max-width: 768px) {
    .homepage-hero .homepage-cta-buttons {
        gap: 12px;
        padding: 0 10px;
    }
    
    .homepage-primary-cta.homepage-cta-search,
    .homepage-primary-cta.homepage-cta-create {
        font-size: 16px;
        padding: 14px 24px;
        flex: 1;
        min-width: 0;
    }
}

.btn-cookie-accept-all:hover {
    background: #388E3C;
    border-color: #388E3C;
}

.btn-cookie-save {
    background: #FFF6D8;
    color: var(--farm-green);
}

.btn-cookie-save:hover {
    background: rgba(76, 175, 80, 0.1);
}

@media (max-width: 768px) {
    .hdh-cookie-banner {
        padding: 16px;
    }
    
    .cookie-banner-actions {
        flex-direction: column;
    }
    
    .btn-cookie-accept-all,
    .btn-cookie-save {
        width: 100%;
    }
}

/* ============================================
   QUEST PANEL
   ============================================ */

.quest-icon-fixed {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--farm-green) 0%, var(--farm-green-dark) 100%);
    color: #FFFFFF;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 12px rgba(116, 195, 101, 0.4);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 998;
    transition: all 0.3s ease;
}

.quest-icon-fixed:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(116, 195, 101, 0.5);
}

.quest-icon-emoji {
    font-size: 1.8rem;
    line-height: 1;
}

.quest-icon-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    background: var(--warm-orange);
    color: #FFFFFF;
    border-radius: 50%;
    width: 22px;
    height: 22px;
    font-size: 0.7rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #FFFFFF;
    box-shadow: 0 2px 6px rgba(232, 111, 51, 0.4);
}

.quest-panel {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 340px;
    max-height: 520px;
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    z-index: 999;
    display: none;
    overflow: hidden;
    flex-direction: column;
}

.quest-panel.active {
    display: flex;
}

.quest-panel-header {
    padding: 16px 20px;
    border-bottom: 2px solid rgba(201, 184, 138, 0.3);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(201, 184, 138, 0.1);
}

.quest-panel-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--wood-brown);
    margin: 0;
    font-family: 'Baloo 2', 'Poppins', sans-serif;
}

.quest-panel-close {
    background: none;
    border: none;
    font-size: 1.8rem;
    color: var(--wood-brown);
    cursor: pointer;
    padding: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    transition: all 0.2s ease;
    border-radius: 6px;
}

.quest-panel-close:hover {
    background: rgba(201, 184, 138, 0.2);
    transform: scale(1.1);
}

.quest-panel-content {
    padding: 16px;
    overflow-y: auto;
    flex: 1;
}

.quest-section {
    margin-bottom: 24px;
}

.quest-section:last-child {
    margin-bottom: 0;
}

.quest-section-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--newspaper-text);
    margin: 0 0 12px 0;
}

.quest-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.quest-item {
    background: #FFF6D8;
    border: 2px solid rgba(201, 184, 138, 0.4);
    border-radius: 12px;
    padding: 14px;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.quest-item:hover {
    border-color: rgba(201, 184, 138, 0.6);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
}

.quest-item.quest-completed {
    opacity: 0.7;
    background: rgba(116, 195, 101, 0.15);
    border-color: var(--farm-green);
}

.quest-info {
    margin-bottom: 8px;
}

.quest-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--wood-brown);
    margin: 0 0 6px 0;
    font-family: 'Baloo 2', 'Poppins', sans-serif;
}

.quest-description {
    font-size: 0.9rem;
    color: rgba(108, 63, 31, 0.7);
    margin: 0 0 10px 0;
    line-height: 1.5;
}

.quest-progress {
    display: flex;
    align-items: center;
    gap: 8px;
}

.quest-progress-bar {
    flex: 1;
    height: 6px;
    background: rgba(201, 184, 138, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.quest-progress-fill {
    height: 100%;
    background: var(--farm-green);
    transition: width 0.3s ease;
}

.quest-progress-text {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--wood-brown);
    min-width: 45px;
    text-align: right;
}

.quest-rewards {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.quest-reward {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--farm-green-dark);
    background: rgba(116, 195, 101, 0.15);
    padding: 6px 10px;
    border-radius: 12px;
    border: 1px solid rgba(116, 195, 101, 0.3);
}

@media (max-width: 768px) {
    .quest-panel {
        width: calc(100% - 40px);
        right: 20px;
        left: 20px;
        max-height: 70vh;
    }
    
    .quest-icon-fixed {
        bottom: 90px;
        right: 16px;
    }
}
